"use strict";(globalThis["webpackChunkMMC_CLIENT"]=globalThis["webpackChunkMMC_CLIENT"]||[]).push([[882],{2882:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Ki});var a=t(3673),n=t(2323),i=t(1959);t(4564);function o(e,l){var t=null;if(e.nv){var a=l.state.nodes[l.state.selected_node].nodeVariables[e.nv];for(var n in e.labels)a==e.labels[n].value&&(t=e.labels[n].label)}return console.log("overloadedLabel: element "+JSON.stringify(e)+" result = "+t),t}function s(e,l,t){var a=!0;if(void 0!=e.evBit)if(void 0!=t){var n=l.state.nodes[l.state.selected_node].storedEvents[t],i=n.variables[e.evBit.index];i=(i&2**e.evBit.bit)>>e.evBit.bit,a=d(i,e),console.log("parseLogicElement: evBit result = "+a)}else console.log("parseLogicElement: ERROR: evBit - event index (argument3) not defined ");if(void 0!=e.nvBit){i=l.state.nodes[l.state.selected_node].nodeVariables[e.nvBit.index];i=(i&2**e.nvBit.bit)>>e.nvBit.bit,a=d(i,e),console.log("parseLogicElement: nvBit result = "+a)}if(void 0!=e.nv){i=l.state.nodes[l.state.selected_node].nodeVariables[e.nv];a=d(i,e),console.log("parseLogicElement: nv result = "+a)}return a}function d(e,l){var t=!0;return void 0!=l.equals&&l.equals!=e&&(t=!1),void 0!=l.in&&(t=!1,l.in.forEach((function(l){e==l&&(t=!0)}))),void 0!=l.notEqual&&l.notEqual==e&&(t=!1),t}const r={class:"text-h6"},u={class:"text-h6"},p=(0,a._)("div",{class:"text-h6"},"Generate event",-1),m=(0,a._)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),c={class:"q-pa-md q-gutter-sm"},b="SendEventDialog",v={__name:"SendEventDialog",props:{modelValue:{type:Boolean,required:!0},eventNumber:{type:Number,required:!0},nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}});(0,a.YP)(d,(()=>{console.log(b+": WATCH model")})),(0,a.wF)((()=>{console.log("SendEventDialog onBeforeMount")})),(0,a.bv)((()=>{console.log("SendEventDialog onMounted")}));const v=()=>{console.log("send on "+o.nodeNumber+" "+o.eventNumber),0==o.nodeNumber?t.methods.short_on_event(o.nodeNumber,o.eventNumber):t.methods.long_on_event(o.nodeNumber,o.eventNumber)},y=()=>{console.log("send off "+o.nodeNumber+" "+o.eventNumber),0==o.nodeNumber?t.methods.short_off_event(o.nodeNumber,o.eventNumber):t.methods.long_off_event(o.nodeNumber,o.eventNumber)};return(e,l)=>{const s=(0,a.up)("q-btn"),b=(0,a.up)("q-banner"),g=(0,a.up)("q-card-section"),f=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),V=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(V,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[(0,a._)("div",r," Test event : "+(0,n.zw)((0,i.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a._)("div",u,"Event "+(0,n.zw)(o.nodeNumber)+":"+(0,n.zw)(o.eventNumber),1)])),_:1}),(0,a.Wm)(g,{class:"q-pa-md"},{default:(0,a.w5)((()=>[p,m,(0,a._)("div",c,[(0,a.wy)((0,a.Wm)(s,{color:"green",label:"ON",onClick:l[0]||(l[0]=e=>v())},null,512),[[_]]),(0,a.wy)((0,a.Wm)(s,{color:"negative",label:"OFF",onClick:l[1]||(l[1]=e=>y())},null,512),[[_]])])])),_:1}),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var y=t(6778),g=t(151),f=t(5607),w=t(8240),V=t(5589),_=t(9367),N=t(677),x=t(7518),S=t.n(x);const q=v,h=q;S()(v,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(v,"directives",{ClosePopup:N.Z});const k={class:"text-h6"},T=(0,a._)("div",{class:"text-h6"},"Are you sure you want to delete this event?",-1),I={__name:"DeleteEventDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),r=()=>{console.log("removeEvent "+o.nodeNumber+" "+o.eventIdentifier),t.methods.remove_event(o.nodeNumber,o.eventIdentifier)};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),p=(0,a.up)("q-card-section"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[(0,a._)("div",k," Delete event : "+(0,n.zw)((0,i.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[T])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Yes",onClick:l[0]||(l[0]=e=>r())},null,512),[[v]]),(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},W=I,U=W;S()(I,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(I,"directives",{ClosePopup:N.Z});const C={class:"text-h6"},B=(0,a._)("div",{class:"text-h6"},"Event name",-1),D={__name:"NameEventDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(""),s=e,d=l,r=(0,a.Fl)({get(){return s.modelValue},set(e){d("update:modelValue",e)}}),u=()=>{console.log("new event name: "+s.eventIdentifier+" "+o.value),t.setters.event_name(s.eventIdentifier,o.value),o.value=""};return(0,a.ic)((()=>{console.log("NameEventDialog onUpdated "+s.eventIdentifier),t.state.layout.eventDetails[s.eventIdentifier]&&(o.value=t.state.layout.eventDetails[s.eventIdentifier].name)})),(e,l)=>{const d=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),m=(0,a.up)("q-input"),c=(0,a.up)("q-card-section"),b=(0,a.up)("q-card-actions"),v=(0,a.up)("q-card"),y=(0,a.up)("q-dialog"),g=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(y,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[g]])])),default:(0,a.w5)((()=>[(0,a._)("div",C," Edit name for event : "+(0,n.zw)((0,i.SU)(t).getters.event_name(s.eventIdentifier)),1)])),_:1}),(0,a.Wm)(c,{class:"q-pt-none"},{default:(0,a.w5)((()=>[B,(0,a.Wm)(m,{dense:"",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",label:"Accept",onClick:l[1]||(l[1]=e=>u())},null,512),[[g]]),(0,a.wy)((0,a.Wm)(d,{flat:"",label:"Cancel"},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var E=t(4689);const Z=D,Q=Z;S()(D,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QInput:E.Z,QCardActions:_.Z}),S()(D,"directives",{ClosePopup:N.Z});const H={class:"text-h6"},z={class:"q-pa-md row items-start q-gutter-md"},j=(0,a._)("div",{class:"text-h6"},"Teach Event",-1),O=(0,a._)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),F={class:"q-pa-xs q-gutter-sm"},M=(0,a._)("div",{class:"text-h6"},"Taught Events",-1),P=(0,a._)("div",{class:"text-subtitle2"},"Nodes using this event",-1),A={__name:"EventTeachDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),r=(0,i.iH)(),u=(0,i.iH)([]),p=(0,i.iH)([]),m=(0,i.iH)([]),c=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],b=(0,a.Fl)((()=>Object.values(t.state.nodes)));(0,a.YP)(b,(()=>{v()}));const v=()=>{m.value=[],p.value=[],b.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let l=Object.values(e.storedEvents);l.forEach((l=>{if(l.eventIdentifier==o.eventIdentifier){p.value.push(l.node);var a=t.state.layout.nodeDetails[e.nodeNumber].name;m.value.push({number:e.nodeNumber,name:a})}}))}})),y()},y=()=>{u.value=[];var e=t.state.nodes;for(var l in e){var a=!0;for(var n in p.value)p.value[n]==l&&(a=!1);if(a&&e[l].consumer){var i=l+": ";t.state.layout.nodeDetails[l]&&(i+=t.state.layout.nodeDetails[l].name),u.value.push(i)}}},g=()=>{if(console.log(`teach_event : ${r.value} : ${o.eventIdentifier}`),""!=r.value){var e=r.value.split(":");console.log(`teach_event : ${e[0]} : ${o.eventIdentifier}`),t.methods.teach_event(e[0],o.eventIdentifier,o.eventIndex),r.value=void 0}};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log("EventTeachDialog onUpdated"),o.eventIdentifier&&v()})),(e,l)=>{const s=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),b=(0,a.up)("q-select"),v=(0,a.up)("q-card-section"),y=(0,a.up)("q-card"),f=(0,a.up)("q-table"),w=(0,a.up)("q-card-actions"),V=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(V,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[(0,a._)("div",H," Teach event : "+(0,n.zw)((0,i.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a._)("div",z,[(0,a.Wm)(y,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[j,O,(0,a.Wm)(b,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),options:u.value},null,8,["modelValue","options"]),(0,a._)("div",F,[(0,a.Wm)(s,{color:"negative",label:"Teach",onClick:l[1]||(l[1]=e=>g()),"no-caps":""})])])),_:1})])),_:1}),(0,a.Wm)(y,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[M,P,(0,a.Wm)(f,{flat:"",bordered:"",dense:"",rows:m.value,columns:c,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1})]),(0,a.Wm)(w,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var L=t(3314),Y=t(9178);const $=A,J=$;S()(A,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QSelect:L.Z,QTable:Y.Z,QCardActions:_.Z}),S()(A,"directives",{ClosePopup:N.Z});var R=t(8825);const G={__name:"EventVariableBit",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bit:{type:Number,required:!0},name:{type:String,required:!1},hint:{type:String,default:""}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),n={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},o=(0,i.iH)(!1);let s=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;const d=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(d,(()=>{o.value=!!(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&n[l.bit])}));const r=()=>{let e=d.value;console.log(`EventVariableBit update_checked ${o.value} ${e}`),o.value?e|=n[l.bit]:e&=~n[l.bit],console.log(`EventVariableBit update_checked-2 ${o.value} ${e}`),t.methods.update_event_variable(l.nodeNumber,s,l.eventIndex,l.eventVariableIndex,e)};return(0,a.bv)((()=>{const e=!!(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&n[l.bit]);o.value=e})),(l,t)=>{const n=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.j4)(n,{"min-width":"100",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:e.name,onClick:r,"left-label":""},null,8,["modelValue","label"])}}};var K=t(6271);const X=G,ee=X;S()(G,"components",{QCheckbox:K.Z});const le={class:"text-h6"},te={class:"text-subtitle2"},ae={__name:"EventVariableBitArray",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){(0,a.f3)("store");return(0,a.bv)((()=>{})),(l,t)=>{const o=(0,a.up)("q-card-section"),s=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(s,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a._)("div",le,(0,n.zw)(e.displayTitle),1),(0,a._)("div",te,(0,n.zw)(e.displaySubTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.bitCollection,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l},[(0,a.Wm)((0,i.SU)(ee),{nodeNumber:e.nodeNumber,eventVariableIndex:e.eventVariableIndex,eventIndex:e.eventIndex,bit:l.bitPosition,name:l.label},null,8,["nodeNumber","eventVariableIndex","eventIndex","bit","name"])])))),128))])),_:1})])),_:1})}}},ne=ae,ie=ne;S()(ae,"components",{QCard:g.Z,QCardSection:V.Z});const oe={class:"text-h6"},se={class:"text-subtitle2"},de={__name:"EventVariableBitSingle",props:{eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},bit:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=(0,a.f3)("store");return(0,a.bv)((()=>{})),(t,o)=>{const s=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",oe,(0,n.zw)(e.displayTitle),1),(0,a._)("div",se,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)((0,i.SU)(ee),{nodeNumber:(0,i.SU)(l).state.selected_node,eventIndex:e.eventIndex,eventVariableIndex:e.eventVariableIndex,bit:e.bit,name:e.name},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","name"])])),_:1})])),_:1})}}},re=de,ue=re;S()(de,"components",{QCard:g.Z,QCardSection:V.Z});const pe={style:{border:"2px solid grey"}},me={class:"GroupTitle"},ce={class:"q-pa-xs row"};function be(e,l,t,i,o,s){const d=(0,a.up)("EventVariableBitArray"),r=(0,a.up)("EventVariableBitSingle"),u=(0,a.up)("EventVariableNumber"),p=(0,a.up)("EventVariableSelect"),m=(0,a.up)("EventVariableSlider"),c=(0,a.up)("EventVariableTabs");return(0,a.wg)(),(0,a.iD)("div",pe,[(0,a._)("div",me,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",ce,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,"node-number":i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,"node-number":i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableTabs"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])}const ve={class:"text-h6"},ye={class:"text-subtitle2"},ge={__name:"EventVariableNumber",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},name:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7},displayOffset:{type:Number,default:0}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)();let r=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;console.log(`EventVariableNumber: Props : ${JSON.stringify(l)}`);const u=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableNumber: bitMask2 : ${u.value}`);const p=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(p,(()=>{d.value=((p.value&u.value)>>l.startBit)+l.displayOffset}));const m=e=>{let a=p.value,n=e;n-=l.displayOffset,n<l.min||n>l.max||""==e?(o.value=!0,s.value="Invalid Value "+e+" : Valid Range "+(l.min+l.displayOffset)+" - "+(l.max+l.displayOffset)):(n<<=l.startBit,a|=n&u.value,a&=n|~u.value,s.value="",o.value=!1,t.methods.update_event_variable(l.nodeNumber,r,l.eventIndex,l.eventVariableIndex,a))};return(0,a.bv)((()=>{console.log("EventVariableNumber: onMounted");let e=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex];d.value=((e&u.value)>>l.startBit)+l.displayOffset})),(l,t)=>{const i=(0,a.up)("q-input"),r=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("div",ve,(0,n.zw)(e.displayTitle),1),(0,a._)("div",ye,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{mask:"###",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":s.value,error:o.value,onChange:m},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},fe=ge,we=fe;S()(ge,"components",{QCard:g.Z,QCardSection:V.Z,QInput:E.Z});const Ve={class:"text-h6"},_e={class:"text-subtitle2"},Ne={__name:"EventVariableSelect",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),s=(0,i.iH)();let d=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;var r=(0,i.iH)();const u=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(u,(()=>{s.value=u.value&l.bitMask}));const p=e=>{console.log(`EventVariableSelect: newValue ${e.value}`);let a=u.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`EventVariableSelect: byteValue ${a}`),t.methods.update_event_variable(l.nodeNumber,d,l.eventIndex,l.eventVariableIndex,a)};return(0,a.bv)((()=>{for(var e in console.log("EventVariableSelect: onMounted"),s.value=u.value&l.bitMask,console.log(`EventVariableSelect: props: ${JSON.stringify(l)}`),r.value=[],l.options)if(console.log(`EventVariableComplexSelect: item: ${e}`),void 0!=l.options[e].overload){var a=o(l.options[e].overload,t);if(a){var n={value:l.options[e].value,label:a};r.value.push(n)}}else void 0!=l.options[e].label&&r.value.push(l.options[e]);console.log(`EventVariableSelect: items: ${JSON.stringify(r.value)}`)})),(l,t)=>{const o=(0,a.up)("q-select"),d=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",Ve,(0,n.zw)(e.displayTitle),1),(0,a._)("div",_e,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(o,{modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>s.value=e),p],options:(0,i.SU)(r),"popup-content-class":"q-pm-none","map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},xe=Ne,Se=xe;S()(Ne,"components",{QCard:g.Z,QCardSection:V.Z,QSelect:L.Z});const qe={class:"text-h6"},he={class:"text-subtitle2"},ke={__name:"EventVariableSlider",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),o=(0,i.iH)(!1),s=(0,i.iH)("");let d=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;console.log(`EventVariableSlider Props : ${JSON.stringify(l)}`);const r=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableSlider: bitMask : ${r.value}`);const u=(0,a.Fl)({get(){return(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&r.value)>>l.startBit},set(e){let a=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex];if(console.log(`OldByteValue : ${a}`),console.log(`NewValue : ${e}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let n=e;n<<=l.startBit,a|=n&r.value,a&=n|~r.value,o.value=!1,s.value="",t.methods.update_event_variable(l.nodeNumber,d,l.eventIndex,l.eventVariableIndex,a)}else console.log(`Invalid Value : ${e}`),s.value="Invalid Value",o.value=!0}}),p=e=>{o.value?console.log(`Invalid Value : ${e}`):console.log(`update slider value : ${e}`)};return(0,a.bv)((()=>{console.log("EventVariableSlider onMounted")})),(l,t)=>{const i=(0,a.up)("q-badge"),o=(0,a.up)("q-slider"),s=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",qe,(0,n.zw)(e.displayTitle),1),(0,a._)("div",he,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{color:"secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(u.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,a.Wm)(o,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),max:e.max,min:e.min,onChange:p},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}};var Te=t(9721),Ie=t(2064);const We=ke,Ue=We;S()(ke,"components",{QCard:g.Z,QCardSection:V.Z,QBadge:Te.Z,QSlider:Ie.Z});const Ce={class:"q-pa-xs"},Be={class:"q-pa-md row",style:{border:"1px solid grey"}};function De(e,l,t,n,i,o){const s=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),r=(0,a.up)("EventVariableBitArray"),u=(0,a.up)("EventVariableBitSingle"),p=(0,a.up)("EventVariableNumber"),m=(0,a.up)("EventVariableSelect"),c=(0,a.up)("EventVariableSlider"),b=(0,a.up)("EventVariableTabGroup"),v=(0,a.up)("q-tab-panel"),y=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",Ce,[(0,a.Wm)(d,{modelValue:n.selectedTab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(y,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":l[1]||(l[1]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(v,{key:e.displayTitle,name:e.displayTitle},{default:(0,a.w5)((()=>[(0,a._)("div",Be,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.items,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:0,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:2,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:3,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:4,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableGroup"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:5,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const Ee={style:{border:"2px solid grey"}},Ze={class:"GroupTitle"},Qe={class:"q-pa-xs row"};function He(e,l,t,i,o,s){const d=(0,a.up)("EventVariableBitArray"),r=(0,a.up)("EventVariableBitSingle"),u=(0,a.up)("EventVariableNumber"),p=(0,a.up)("EventVariableSelect"),m=(0,a.up)("EventVariableSlider");return(0,a.wg)(),(0,a.iD)("div",Ee,[(0,a._)("div",Ze,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",Qe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,"node-number":i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,nodeNumber:i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,"node-number":i.store.state.selected_node,eventIndex:i.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0)])))),128))])])}const ze={components:{EventVariableBitArray:ie,EventVariableBitSingle:ue,EventVariableNumber:we,EventVariableSelect:Se,EventVariableSlider:Ue},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=s(e.visibilityLogic,l,l.state.selected_event_index)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:l,isVisible:t}}};var je=t(4260);const Oe=(0,je.Z)(ze,[["render",He],["__scopeId","data-v-53f68772"]]),Fe=Oe,Me={props:{configuration:Object},components:{EventVariableBitArray:ie,EventVariableBitSingle:ue,EventVariableNumber:we,EventVariableSelect:Se,EventVariableSlider:Ue,EventVariableTabGroup:Fe},setup(e){const l=(0,i.iH)(),t=(0,i.iH)(),n=(0,a.f3)("store");function o(e){var l=!0;return e.visibilityLogic&&(l=s(e.visibilityLogic,n,n.state.selected_event_index)),console.log("isVisible: "+l+" "+e.type),l}return(0,a.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),l.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(l.value)),t.value=l.value[0].displayTitle})),{store:n,selectedTab:t,tabPanels:l,isVisible:o}}};var Pe=t(7547),Ae=t(3269),Le=t(5906),Ye=t(6602);const $e=(0,je.Z)(Me,[["render",De]]),Je=$e;S()(Me,"components",{QTabs:Pe.Z,QTab:Ae.Z,QTabPanels:Le.Z,QTabPanel:Ye.Z});const Re={components:{EventVariableBitArray:ie,EventVariableBitSingle:ue,EventVariableNumber:we,EventVariableSelect:Se,EventVariableSlider:Ue,EventVariableTabs:Je},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=s(e.visibilityLogic,l,l.state.selected_event_index)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:l,isVisible:t}}},Ge=(0,je.Z)(Re,[["render",be],["__scopeId","data-v-ffea7b78"]]),Ke=Ge,Xe={__name:"EventVariableRaw",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Event Variable "+l.eventVariableIndex,n=(0,a.f3)("store"),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)();let r=n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;const u=(0,a.Fl)((()=>n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(u,(()=>{d.value=u.value}));const p=e=>{e<0||e>255||""==e?(o.value=!0,s.value="Invalid Value"):(s.value="",o.value=!1,n.methods.update_event_variable(l.nodeNumber,r,l.eventIndex,l.eventVariableIndex,e))};return(0,a.bv)((()=>{d.value=n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]})),(e,l)=>{const n=(0,a.up)("q-input"),r=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-none",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{mask:"###",label:(0,i.SU)(t),debounce:"1000",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),outlined:"","error-message":s.value,error:o.value,onChange:p},null,8,["label","modelValue","error-message","error"])])),_:1})])),_:1})}}},el=Xe,ll=el;S()(Xe,"components",{QCard:g.Z,QCardSection:V.Z,QInput:E.Z});const tl=(0,a._)("div",{class:"text-h6"}," Module Descriptor ",-1),al={class:"row items-start q-gutter-md"},nl={key:0,class:"text-subtitle2"},il=(0,a._)("p",{class:"text-negative"},"Module Descriptor not found",-1),ol=[il],sl=(0,a._)("div",{class:"text-h4"},"Module Descriptor Data",-1),dl={class:"text-h6"},rl=(0,a._)("div",{class:"text-h6"},"File upload ",-1),ul=(0,a._)("div",{class:"text-subtitle2"},"Select a file to upload for this type of module",-1),pl={class:"text-subtitle2"},ml=(0,a._)("div",{class:"text-subtitle2"},"If this module descriptor already exists on the server, it will be overwritten ",-1),cl="ManageModuleDescriptorsDialog",bl={__name:"ManageModuleDescriptorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(!1),s=(0,i.iH)(!1),d=(0,i.iH)(!1),r=(0,i.iH)(!1),u=(0,i.iH)(),p=e,m=l,c=(0,a.Fl)({get(){return p.modelValue},set(e){m("update:modelValue",e)}});(0,a.YP)(c,(()=>{console.log(cl+": WATCH model")}));const b=(0,a.Fl)((()=>t.state.nodes[t.state.selected_node].moduleDescriptorFilename)),v=(0,a.Fl)((()=>{var e="";return t.state.nodes[t.state.selected_node].moduleDescriptorFilename&&(e=t.state.nodes[t.state.selected_node].moduleDescriptorFilename.split(".",1)[0],y()),e}));(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const y=()=>{console.log("checkFileLoad"),t.state.nodeDescriptors[t.state.selected_node]?(r.value=!0,console.log("WATCH moduleDescriptorFilename "+r.value)):console.log("checkFileLoad failed for node "+t.state.selected_node)},g=()=>{let e=JSON.stringify(t.state.nodeDescriptors[t.state.selected_node],null,"  "),l=document.createElement("a");l.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),l.setAttribute("download",t.state.nodes[t.state.selected_node].moduleDescriptorFilename),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},f=()=>{var e={};if(u.value){let l=new FileReader;l.readAsText(u.value),l.onload=function(){try{e=JSON.parse(l.result),e["moduleDescriptorName"]=v.value,console.log("actionUpload: "+e.moduleDescriptorName),t.methods.import_module_descriptor(e)}catch(a){console.log("actionUpload: failed JSON parse")}},u.value=null}else console.log("actionUpload: uploadFile no value ")},w=()=>{console.log(cl+": clickDownload"),o.value=!0},V=()=>{console.log(cl+": clickUpload"),s.value=!0},_=()=>{console.log(cl+": clickView"),d.value=!0};return(e,l)=>{const p=(0,a.up)("q-btn"),m=(0,a.up)("q-banner"),y=(0,a.up)("q-card-section"),N=(0,a.up)("q-card-actions"),x=(0,a.up)("q-card"),S=(0,a.up)("q-dialog"),q=(0,a.up)("q-file"),h=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(S,{modelValue:c.value,"onUpdate:modelValue":l[9]||(l[9]=e=>c.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{style:{"min-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[h]])])),default:(0,a.w5)((()=>[tl])),_:1}),(0,a._)("div",al,[(0,a.Wm)(x,{class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(v.value)+" ",1),r.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",nl,ol))])),_:1}),(0,a.Wm)(N,{align:"evenly",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{color:"positive",disabled:!r.value,label:"View",onClick:l[0]||(l[0]=e=>_()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(p,{color:"positive",disabled:!r.value,label:"Download",onClick:l[1]||(l[1]=e=>w()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(p,{color:"positive",label:"Upload",onClick:l[2]||(l[2]=e=>V()),"no-caps":""})])),_:1})])),_:1})]),(0,a.Wm)(S,{modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[sl,(0,a.Wm)(N,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Cancel"},null,512),[[h]])])),_:1}),(0,a._)("p",null,(0,n.zw)(JSON.stringify((0,i.SU)(t).state.nodeDescriptors[(0,i.SU)(t).state.selected_node],null,"  ")),1)])),_:1}),(0,a.Wm)(N,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Cancel"},null,512),[[h]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(S,{modelValue:o.value,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a._)("div",dl,"Download "+(0,n.zw)(b.value),1)])),_:1}),(0,a.Wm)(N,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Download",onClick:l[4]||(l[4]=e=>g(b.value))},null,512),[[h]]),(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Cancel"},null,512),[[h]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(S,{modelValue:s.value,"onUpdate:modelValue":l[8]||(l[8]=e=>s.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[rl,ul,(0,a._)("div",pl,"The filename can be anything, as it will be stored as "+(0,n.zw)(b.value),1)])),_:1}),(0,a.Wm)(q,{modelValue:u.value,"onUpdate:modelValue":l[6]||(l[6]=e=>u.value=e),label:"Pick one file",filled:"",style:{"max-width":"300px"}},null,8,["modelValue"]),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[ml])),_:1}),(0,a.Wm)(N,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Upload",onClick:l[7]||(l[7]=e=>f())},null,512),[[h]]),(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Cancel"},null,512),[[h]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(x,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(p,{flat:"",label:"Cancel"},null,512),[[h]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var vl=t(4974);const yl=bl,gl=yl;S()(bl,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z,QFile:vl.Z}),S()(bl,"directives",{ClosePopup:N.Z});const fl={class:"text-h6"},wl={key:0,class:"text-h6"},Vl={class:"q-pa-none row"},_l={key:0,class:"q-pa-none row"},Nl={class:"q-pa-xs row"},xl={key:0},Sl=(0,a._)("br",null,null,-1),ql={class:"q-pa-xs row"},hl=(0,a._)("div",{class:"text-body1"},[(0,a.Uk)("Variables descriptor"),(0,a._)("br")],-1),kl={class:"text-body2"},Tl="EventVariablesdialog",Il={__name:"EventVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,R.Z)(),o=(0,a.f3)("store"),d=(0,i.iH)(),r=(0,i.iH)(!1),u=(0,i.iH)(!1),p=(0,i.iH)(!1),m=(0,i.iH)(!1);var c=!1;const b=e,v=l,y=(0,a.Fl)({get(){return b.modelValue},set(e){v("update:modelValue",e)}});(0,a.YP)(y,(()=>{console.log(Tl+": WATCH model"),r.value=!1,m.value=!1})),(0,a.YP)(b.nodeNumber,(()=>{console.log(Tl+": - watch nodeNumber")}));const g=e=>{var l=!0;return e.visibilityLogic&&(l=s(e.visibilityLogic,o)),console.log(Tl+": isVisible: "+l+" "+e.type),l};(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(Tl+": onUpdated"),b.nodeNumber&&b.eventIndex&&(console.log(Tl+": onUpdated - nodeNumber "+b.nodeNumber),void 0!=o.state.nodeDescriptors[b.nodeNumber]?(d.value=o.state.nodeDescriptors[b.nodeNumber].eventVariables,u.value=!1):(d.value={},r.value=!0,u.value=!0),f())}));const f=()=>{console.log(Tl+": checkFileLoad"),1!=c&&("Unknown"==o.state.nodes[b.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),c=!0):void 0!=o.state.nodes[b.nodeNumber].moduleDescriptorFilename&&void 0==o.state.nodeDescriptors[b.nodeNumber]&&(t.notify({message:"Failed to load module file "+o.state.nodes[b.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),c=!0),c&&console.log(Tl+": checkLoadFile notification raised"))},w=()=>{console.log(Tl+": clickClose"),r.value=!1,d.value={}},V=()=>{console.log(Tl+": clickToggleVariablesDescriptor"),m.value?m.value=!1:m.value=!0},_=()=>{console.log(Tl+": clickToggleRaw"),r.value?r.value=!1:r.value=!0},N=()=>{console.log(Tl+": clickUpdateModuleDescriptor"),p.value=!0};return(e,l)=>{const t=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),c=(0,a.up)("q-card-section"),v=(0,a.up)("q-card-actions"),f=(0,a.up)("q-card"),x=(0,a.up)("q-dialog"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(x,{modelValue:y.value,"onUpdate:modelValue":l[5]||(l[5]=e=>y.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>N())}),(0,a.wy)((0,a.Wm)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[S]])])),default:(0,a.w5)((()=>[(0,a._)("div",fl," Event Variables for event : "+(0,n.zw)((0,i.SU)(o).getters.event_name(b.eventIdentifier)),1)])),_:1}),(0,a.Wm)(c,null,{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[1]||(l[1]=e=>N())})])),default:(0,a.w5)((()=>[u.value?((0,a.wg)(),(0,a.iD)("div",wl," *** Descriptor not loaded for this node *** ")):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",Vl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(ie),{key:0,nodeNumber:b.nodeNumber,eventIndex:b.eventIndex,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(ue),{key:1,nodeNumber:b.nodeNumber,eventIndex:b.eventIndex,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableGroup"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Ke),{key:2,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(we),{key:3,"node-number":b.nodeNumber,eventIndex:b.eventIndex,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,min:e.min,max:e.max,configuration:e},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","startBit","endBit","displayOffset","min","max","configuration"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Se),{key:4,nodeNumber:b.nodeNumber,eventIndex:b.eventIndex,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Ue),{key:5,"node-number":b.nodeNumber,eventIndex:b.eventIndex,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableTabs"==e.type&&g(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Je),{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))]),(0,a.Wm)(v,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{flat:"",label:"Toggle variable descriptor view",onClick:l[2]||(l[2]=e=>V())}),(0,a.Wm)(t,{flat:"",label:"Toggle raw view",onClick:l[3]||(l[3]=e=>_())}),(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Close",onClick:l[4]||(l[4]=e=>w())},null,512),[[S]])])),_:1}),r.value?((0,a.wg)(),(0,a.iD)("div",_l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(o).state.nodes[b.nodeNumber].parameters[5],(e=>((0,a.wg)(),(0,a.j4)((0,i.SU)(ll),{eventVariableIndex:e,nodeNumber:b.nodeNumber,eventIndex:b.eventIndex,key:e},null,8,["eventVariableIndex","nodeNumber","eventIndex"])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Nl,[(0,i.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("p",xl,[(0,a.Uk)(" Debug: event variables"),Sl,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(o).state.nodes[b.nodeNumber].storedEvents[b.eventIndex])+"\n          ",1)])):(0,a.kq)("",!0)]),m.value?((0,a.wg)(),(0,a.j4)(c,{key:1,class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",ql,[hl,(0,a._)("div",kl,[(0,a._)("pre",null,(0,n.zw)(d.value),1)])])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)((0,i.SU)(gl),{modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=e=>p.value=e)},null,8,["modelValue"])],64)}}},Wl=Il,Ul=Wl;S()(Il,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(Il,"directives",{ClosePopup:N.Z});const Cl={class:"text-h6"},Bl={class:"full-width"},Dl="EventsListByNode",El={__name:"EventsListByNode",props:{nodeNumber:{type:Number,required:!0}},setup(e){const l=(0,a.f3)("store"),t=(0,i.iH)([]),o=(0,i.iH)(!1),d=(0,i.iH)(!1),r=(0,i.iH)(!1),u=(0,i.iH)(!1),p=(0,i.iH)(!1),m=(0,i.iH)(),c=(0,i.iH)(""),b=(0,i.iH)(0),v=(0,i.iH)(0),y=(0,i.iH)(0);(0,i.iH)();const g=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"Identifier",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Event node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event number",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event index",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!0}],f=(0,a.Fl)((()=>l.state.selected_node));(0,a.YP)(f,(()=>{console.log(Dl+": WATCH selected_node"),N()}));const w=(0,a.Fl)((()=>Object.values(l.state.nodes[l.state.selected_node].storedEvents)));(0,a.YP)(w,(()=>{console.log(Dl+": WATCH nodeEvents"),N()}));const V=(0,a.Fl)((()=>Object.values(l.state.events)));(0,a.YP)(V,(()=>{console.log(Dl+": WATCH busEvents"),N()}));const _=(0,a.Fl)((()=>l.state.layout.eventDetails));(0,a.YP)(_,(()=>{console.log(Dl+": WATCH eventDetails"),N()}));const N=()=>{console.log(Dl+": update_rows "+l.state.selected_node),t.value=[];var e=Object.values(l.state.nodes[l.state.selected_node].storedEvents);e.forEach((e=>{var a=parseInt(e.eventIdentifier.substr(0,4),16);let n={};n["eventIdentifier"]=e.eventIdentifier,n["eventName"]=l.getters.event_name(e.eventIdentifier),n["eventIndex"]=e.eventIndex,n["nodeNumber"]=a,n["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),n["eventType"]=x(e.eventIndex),n["storedEvent"]=!0,t.value.push(n)}));var a=Object.values(l.state.events);a.forEach((a=>{if(a.nodeNumber==l.state.selected_node){var n=!1;if(e.forEach((e=>{a.id==e.eventIdentifier&&(n=!0)})),0==n){let e={};e["eventIdentifier"]=a.id,e["eventName"]=l.getters.event_name(a.id),e["nodeNumber"]=a.nodeNumber,e["eventNumber"]=a.eventNumber,e["storedEvent"]=!1,t.value.push(e)}}})),t.value.sort((function(e,l){return e.eventIdentifier<l.eventIdentifier?-1:1}))},x=e=>{if(l.state.nodeDescriptors[l.state.selected_node]){var t=l.state.nodeDescriptors[l.state.selected_node].producedEventLogic;if(void 0==t)return"";var a=s(t,l,e);return a?"produced":"consumed"}},S=e=>{console.log(Dl+": readEventVariables - eventIndex "+e),l.methods.request_all_event_variables(l.state.selected_node,e,100,l.state.nodes[l.state.selected_node].parameters[5])};(0,a.wF)((()=>{console.log(Dl+": onBeforeMount"),N()})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{}));const q=e=>{console.log(Dl+": clickEventName "+e),c.value=e,m.value=l.getters.event_name(e),o.value=!0},k=e=>{console.log(Dl+": clickDelete"),r.value=!0,c.value=e},T=()=>{console.log(Dl+": clickRefresh"),l.methods.request_all_node_events(l.state.selected_node)},I=(e,l,t)=>{b.value=e,v.value=l,y.value=t,console.log(Dl+": clickTest: eventIdentifier "+b.value+" "+v.value),d.value=!0},W=(e,t)=>{S(e),y.value=e,c.value=t,console.log(Dl+": clickVariables: node, index "+l.state.selected_node+" "+y.value),p.value=!0},C=e=>{console.log(Dl+": clickTeach"),c.value=e,u.value=!0};return(e,s)=>{const m=(0,a.up)("q-btn"),f=(0,a.up)("q-banner"),w=(0,a.up)("q-td"),V=(0,a.up)("q-tr"),_=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(f,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(m,{flat:"",color:"white",size:"sm",label:"Refresh",onClick:s[0]||(s[0]=e=>T())})])),default:(0,a.w5)((()=>[(0,a._)("div",Cl," Events for node : "+(0,n.zw)((0,i.SU)(l).getters.node_name((0,i.SU)(l).state.selected_node)),1)])),_:1}),(0,a._)("div",Bl,[(0,a.Wm)(_,{style:{height:"350px"},bordered:"",dense:"",rows:t.value,columns:g,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(V,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{key:"eventIdentifier",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"nodeNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventIndex",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"actions",props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{flat:"",size:"md",color:"primary",label:"Name",onClick:l=>q(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(m,{disabled:!e.row.storedEvent,color:"primary",size:"md",flat:"",label:"Variables",onClick:l=>W(e.row.eventIndex,e.row.eventIdentifier),"no-caps":""},null,8,["disabled","onClick"]),(0,a.Wm)(m,{flat:"",size:"md",color:"primary",label:"Teach",onClick:l=>C(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(m,{flat:"",size:"md",color:"primary",label:"Test",onClick:l=>I(e.row.nodeNumber,e.row.eventNumber,e.row.eventindex),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(m,{flat:"",size:"md",color:"negative",label:"Delete",onClick:l=>k(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,a.Wm)((0,i.SU)(Q),{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=e=>o.value=e),eventIdentifier:c.value},null,8,["modelValue","eventIdentifier"]),(0,a.Wm)((0,i.SU)(J),{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),eventIdentifier:c.value},null,8,["modelValue","eventIdentifier"]),(0,a.Wm)((0,i.SU)(h),{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=e=>d.value=e),nodeNumber:b.value,eventNumber:v.value,eventIdentifier:c.value},null,8,["modelValue","nodeNumber","eventNumber","eventIdentifier"]),(0,a.Wm)((0,i.SU)(U),{modelValue:r.value,"onUpdate:modelValue":s[4]||(s[4]=e=>r.value=e),nodeNumber:(0,i.SU)(l).state.selected_node,eventIdentifier:c.value},null,8,["modelValue","nodeNumber","eventIdentifier"]),(0,a.Wm)((0,i.SU)(Ul),{modelValue:p.value,"onUpdate:modelValue":s[5]||(s[5]=e=>p.value=e),nodeNumber:(0,i.SU)(l).state.selected_node,eventIndex:y.value,eventIdentifier:c.value},null,8,["modelValue","nodeNumber","eventIndex","eventIdentifier"])])}}};var Zl=t(8186),Ql=t(3884);const Hl=El,zl=Hl;S()(El,"components",{QBanner:f.Z,QBtn:w.Z,QTable:Y.Z,QTr:Zl.Z,QTd:Ql.Z});const jl={class:"text-h6"},Ol={key:0,class:"text-h6"},Fl={key:0},Ml={class:"q-gutter-sm"},Pl={key:0},Al=(0,a._)("div",{class:"text-h4"},"Node Number",-1),Ll=(0,a._)("div",{class:"text-h6"},"Consumed events will need the number of the node that produces the event",-1),Yl=(0,a._)("div",{class:"text-h6"},"Events produced by this node will need the number of this node, as well as editing the event variables",-1),$l=(0,a._)("div",{class:"text-h4"},"Event Number",-1),Jl={key:1},Rl=(0,a._)("div",{class:"text-h4"},"Device Number",-1),Gl={key:2},Kl=(0,a._)("div",{class:"text-h6"},"Once event is added, select edit for the event from the event list to modify event variables",-1),Xl="AddEventDialog",et={__name:"AddEventDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(),s=(0,i.iH)(),d=(0,i.iH)(!0);var r=(0,i.iH)();const u=e,p=l,m=(0,a.Fl)({get(){return u.modelValue},set(e){p("update:modelValue",e)}});(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(Xl+" OnUpdated"),0==t.state.nodes[t.state.selected_node].parameters[4]&&d.value,o.value=null,s.value=null,r.value=null,0==t.state.nodes[t.state.selected_node].parameters[4]&&(d.value=!1,console.log(Xl+" OnUpdated - addEvent disabled "))}));const c=()=>{var e=b();"short"==r.value&&(o.value=0);var l=parseInt(o.value).toString(16).toUpperCase().padStart(4,0)+parseInt(s.value).toString(16).toUpperCase().padStart(4,0);console.log("createEvent - index "+e+" eventID "+l),t.methods.teach_event(t.state.selected_node,l,e)},b=()=>{for(var e=t.state.nodes[t.state.selected_node].parameters[4],l=null,a=1;a<e;a++)if(console.log("i "+a),!t.state.nodes[t.state.selected_node].storedEvents[a]){l=a+1;break}return l};return(e,l)=>{const u=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),b=(0,a.up)("q-card-section"),v=(0,a.up)("q-radio"),y=(0,a.up)("q-input"),g=(0,a.up)("q-card-actions"),f=(0,a.up)("q-card"),w=(0,a.up)("q-dialog"),V=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(w,{modelValue:m.value,"onUpdate:modelValue":l[6]||(l[6]=e=>m.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[V]])])),default:(0,a.w5)((()=>[(0,a._)("div",jl," Add event for node "+(0,n.zw)((0,i.SU)(t).getters.node_name((0,i.SU)(t).state.selected_node)),1)])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[0==d.value?((0,a.wg)(),(0,a.iD)("div",Ol," This module does not support any stored events ")):(0,a.kq)("",!0)])),_:1}),d.value?((0,a.wg)(),(0,a.iD)("div",Fl,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a._)("div",Ml,[(0,a.Wm)(v,{modelValue:(0,i.SU)(r),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.dq)(r)?r.value=e:r=e),val:"long",label:"Long event"},null,8,["modelValue"]),(0,a.Wm)(v,{modelValue:(0,i.SU)(r),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.dq)(r)?r.value=e:r=e),val:"short",label:"Short event"},null,8,["modelValue"])])])),_:1}),"long"==(0,i.SU)(r)?((0,a.wg)(),(0,a.iD)("div",Pl,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[Al])),_:1}),(0,a.Wm)(b,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[Ll,Yl])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[$l])),_:1}),(0,a.Wm)(b,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),"short"==(0,i.SU)(r)?((0,a.wg)(),(0,a.iD)("div",Jl,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[Rl])),_:1}),(0,a.Wm)(b,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[4]||(l[4]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),null!=(0,i.SU)(r)?((0,a.wg)(),(0,a.iD)("div",Gl,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[Kl])),_:1})])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a.Wm)(g,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[d.value?(0,a.wy)(((0,a.wg)(),(0,a.j4)(u,{key:0,flat:"",label:"Add Event",onClick:l[5]||(l[5]=e=>c())},null,512)),[[V]]):(0,a.kq)("",!0),(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var lt=t(7991);const tt=et,at=tt;S()(et,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QRadio:lt.Z,QInput:E.Z,QCardActions:_.Z}),S()(et,"directives",{ClosePopup:N.Z});const nt={class:"text-h6"},it=(0,a._)("div",{class:"text-h6"},"Are you sure you want to delete this node?",-1),ot="DeleteNodeDialog",st={__name:"DeleteNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),r=()=>{console.log(ot+": deleting node "+o.nodeNumber),t.methods.remove_node(o.nodeNumber),t.eventBus.emit("NODE_DELETED_EVENT",o.nodeNumber)};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const o=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),u=(0,a.up)("q-card-section"),p=(0,a.up)("q-card-actions"),m=(0,a.up)("q-card"),c=(0,a.up)("q-dialog"),b=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(c,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[b]])])),default:(0,a.w5)((()=>[(0,a._)("div",nt," Delete for node "+(0,n.zw)((0,i.SU)(t).getters.node_name((0,i.SU)(t).state.selected_node)),1)])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[it])),_:1}),(0,a.Wm)(p,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Yes",onClick:l[0]||(l[0]=e=>r())},null,512),[[b]]),(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Cancel"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},dt=st,rt=dt;S()(st,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(st,"directives",{ClosePopup:N.Z});const ut={class:"text-h6"},pt={__name:"NameNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(),s=e,d=l,r=(0,a.Fl)({get(){return s.modelValue},set(e){d("update:modelValue",e)}}),u=()=>{console.log("new node name: "+o.value),t.setters.node_name(s.nodeNumber,o.value)};return(0,a.ic)((()=>{console.log("NameNodeDialog onUpdated"),t.state.layout.nodeDetails[s.nodeNumber]&&(o.value=t.state.layout.nodeDetails[s.nodeNumber].name)})),(l,t)=>{const i=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),d=(0,a.up)("q-input"),p=(0,a.up)("q-card-section"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[(0,a._)("div",ut," Edit name for node : "+(0,n.zw)(e.nodeNumber),1)])),_:1}),(0,a.Wm)(p,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{dense:"",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",label:"Accept",onClick:t[1]||(t[1]=e=>u())},null,512),[[v]]),(0,a.wy)((0,a.Wm)(i,{flat:"",label:"Cancel"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},mt=pt,ct=mt;function bt(e,l,t,i,o,s){const d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a._)("b",null,(0,n.zw)(t.Name),1),(0,a.Uk)(" : "+(0,n.zw)(t.Value),1)])),_:1})}S()(pt,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QInput:E.Z,QCardActions:_.Z}),S()(pt,"directives",{ClosePopup:N.Z});const vt={name:"NodeParameter",props:["Name","Value"],setup(e){return{props:e}}},yt=(0,je.Z)(vt,[["render",bt]]),gt=yt;S()(vt,"components",{QCard:g.Z,QInput:E.Z});const ft={class:"text-h6"},wt={__name:"NodeParametersDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),r=(0,a.Fl)((()=>t.state.nodes[o.nodeNumber].moduleDescriptorFilename));return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),p=(0,a.up)("q-card-section"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[(0,a._)("div",ft," Parameter Information for "+(0,n.zw)((0,i.SU)(t).getters.node_name(o.nodeNumber)),1)])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,i.SU)(gt),{Name:"Node Number",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].nodeNumber},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Events Currently Stored",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].eventCount},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Manufacturer",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].moduleManufacturerName},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Module",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].moduleName},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Module Identifier",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].moduleIdentifier},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Producer",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].producer},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Consumer",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].consumer},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Consume own Events",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].coe},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Node Variables",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].parameters[6]},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Events Supported",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].parameters[4]},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Event Variables",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].parameters[5]},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"CPU Name",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].cpuName},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Interface",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].interfaceName},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Firmware Version",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].parameters[7]+String.fromCharCode((0,i.SU)(t).state.nodes[o.nodeNumber].parameters[2])},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Beta Version",Value:(0,i.SU)(t).state.nodes[o.nodeNumber].parameters[20]},null,8,["Value"]),(0,a.Wm)((0,i.SU)(gt),{Name:"Module Descriptor Filename",Value:r.value},null,8,["Value"])])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Close"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Vt=wt,_t=Vt;S()(wt,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(wt,"directives",{ClosePopup:N.Z});const Nt={__name:"NodeVariableBit",props:{NodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e;console.log("Node Variable Bit : "+l.NodeNumber);l.Name?l.Name:l.VariableIndex;const t=(0,a.f3)("store"),n=(0,i.iH)(!1),o={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},s=(0,a.Fl)({get(){return t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]},set(e){l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)}});(0,a.YP)(s,((e,a)=>{n.value=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&o[l.Bit])}));const d=()=>{console.log("NodeVariableBit update_checked");let e=s.value;n.value?(e|=o[l.Bit],console.log(`bit ${o[l.Bit]} set, new byte value ${e}`)):(e&=~o[l.Bit],console.log(`bit ${o[l.Bit]} cleared, new byte value ${e}`)),l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)};return(0,a.bv)((()=>{const e=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&o[l.Bit]);console.log("NodeVariableBit onMounted: Checked"+e),n.value=e})),(l,t)=>{const i=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.j4)(i,{"min-width":"100",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),label:e.Name,onClick:d,"right-label":""},null,8,["modelValue","label"])}}},xt=Nt,St=xt;S()(Nt,"components",{QCheckbox:K.Z});const qt={class:"text-h6"},ht={class:"text-subtitle2"},kt={__name:"NodeVariableBitArray",props:{nodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""}},setup(e){const l=(0,a.f3)("store");(0,i.iH)();var t=(0,i.iH)();const s=e,d=(0,a.Fl)((()=>l.state.nodes[s.nodeNumber].nodeVariables));function r(){for(var e in t.value=[],s.bitCollection)if(s.bitCollection[e].overload){var a=o(s.bitCollection[e].overload,l);if(a){var n={bitPosition:s.bitCollection[e].bitPosition,label:a};t.value.push(n)}}else s.bitCollection[e].label&&t.value.push(s.bitCollection[e])}return(0,a.YP)(d,(()=>{r()})),(0,a.bv)((()=>{console.log("NodeVariableBitArray onMounted:"),console.log(`NodeVariableBitArray: props: ${JSON.stringify(s)}`),r()})),(o,s)=>{const d=(0,a.up)("q-card-section"),r=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(r,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",qt,(0,n.zw)(e.displayTitle),1),(0,a._)("div",ht,(0,n.zw)(e.displaySubTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(t),(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)((0,i.SU)(St),{NodeNumber:(0,i.SU)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:t.bitPosition,Name:t.label},null,8,["NodeNumber","VariableIndex","Bit","Name"])])))),128))])),_:1})])),_:1})}}},Tt=kt,It=Tt;S()(kt,"components",{QCard:g.Z,QCardSection:V.Z});const Wt={class:"text-h6"},Ut={class:"text-subtitle2"},Ct={__name:"NodeVariableBitSingle",props:{VariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=(0,a.f3)("store");return(0,a.bv)((()=>{console.log("NodeVariableBitSingle onMounted")})),(t,o)=>{const s=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",Wt,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Ut,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)((0,i.SU)(St),{NodeNumber:(0,i.SU)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:e.Bit,learn:e.learn,Name:e.Name},null,8,["NodeNumber","VariableIndex","Bit","learn","Name"])])),_:1})])),_:1})}}},Bt=Ct,Dt=Bt;S()(Ct,"components",{QCard:g.Z,QCardSection:V.Z});const Et={class:"text-h6"},Zt={class:"text-subtitle2"},Qt={__name:"NodeVariableDual",props:{NodeNumber:{type:Number,required:!0},NodeVariableIndexHigh:{type:Number,required:!0},NodeVariableIndexLow:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:65025},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name&&l.name,(0,a.f3)("store")),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)(),r=(0,a.Fl)((()=>(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow]));(0,a.YP)(r,(()=>{d.value=r.value}));const u=e=>{e<l.min||e>l.max?(console.log(`Invalid Value : ${e}`),o.value=!0,s.value="Invalid Value"):(console.log(`Value Ok : ${e}`),o.value=!1,s.value="",t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexHigh,e>>8),t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexLow,255&e))};return(0,a.bv)((()=>{d.value=(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow],console.log(`NodeVariableDual ${d.value}`)})),(l,t)=>{const i=(0,a.up)("q-input"),r=(0,a.up)("q-card-section"),p=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("div",Et,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Zt,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{mask:"#####",debounce:"1000",hint:e.hint,modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":s.value,error:o.value,onChange:u},null,8,["hint","modelValue","error-message","error"])])),_:1})])),_:1})}}},Ht=Qt,zt=Ht;S()(Qt,"components",{QCard:g.Z,QCardSection:V.Z,QInput:E.Z});const jt={style:{border:"2px solid grey"}},Ot={class:"GroupTitle"},Ft={class:"q-pa-xs row"};function Mt(e,l,t,i,o,s){const d=(0,a.up)("NodeVariableNumber"),r=(0,a.up)("NodeVariableBitArray"),u=(0,a.up)("NodeVariableBitSingle"),p=(0,a.up)("node-variable-slider"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect"),b=(0,a.up)("NodeVariableTabs");return(0,a.wg)(),(0,a.iD)("div",jt,[(0,a._)("div",Ot,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",Ft,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,"node-number":i.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:i.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,NodeNumber:i.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,"node-number":i.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:i.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:i.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableTabs"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])}const Pt={class:"text-h6"},At={class:"text-subtitle2"},Lt={__name:"NodeVariableNumber",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.f3)("store")),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)(),r=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(r,(()=>{d.value=r.value}));const u=e=>{e<l.min||e>l.max?(o.value=!0,s.value="Invalid Value"):(o.value=!1,s.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.bv)((()=>{d.value=r.value})),(l,t)=>{const i=(0,a.up)("q-input"),r=(0,a.up)("q-card-section"),p=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("div",Pt,(0,n.zw)(e.displayTitle),1),(0,a._)("div",At,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{mask:"###",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":s.value,error:o.value,onChange:u},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},Yt=Lt,$t=Yt;S()(Lt,"components",{QCard:g.Z,QCardSection:V.Z,QInput:E.Z});const Jt={class:"text-h6"},Rt={class:"text-subtitle2"},Gt={__name:"NodeVariableSlider",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const l=e;console.log("Node Variable : "+l.nodeNumber);l.name?l.name:l.nodeVariableIndex;const t=(0,a.f3)("store"),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`NodeVariableSlider: bitMask : ${d.value}`);const r=(0,a.Fl)({get(){return(t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]&d.value)>>l.startBit},set(e){let a=t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex];if(console.log(`OldByteValue : ${a}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let n=e;n<<=l.startBit,a|=n&d.value,a&=n|~d.value,o.value=!1,s.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,a),console.log(`NewByteValue : ${a}`)}else console.log(`Invalid Value : ${e}`),s.value="Invalid Value",o.value=!0}}),u=e=>{o.value?console.log(`Invalid Value : ${e}`):console.log(`update_variable : ${e}`)};return(0,a.bv)((()=>{console.log("NodeVariableSlider")})),(l,t)=>{const i=(0,a.up)("q-badge"),o=(0,a.up)("q-slider"),s=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",Jt,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Rt,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{color:"secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(r.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,a.Wm)(o,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),max:e.max,min:e.min,onChange:u},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}},Kt=Gt,Xt=Kt;S()(Gt,"components",{QCard:g.Z,QCardSection:V.Z,QBadge:Te.Z,QSlider:Ie.Z});const ea={class:"text-h6"},la={class:"text-subtitle2"},ta={__name:"NodeVariableSelect",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.f3)("store")),o=(0,i.iH)(),s=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(s,(()=>{o.value=s.value&l.bitMask,console.log("NodeVariableSelect watch variableValue "+o.value+" bitMask "+l.bitMask)}));const d=e=>{console.log(`NodeVariableSelect update_variable ${e.value}`);let a=s.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`NodeVariableSelect: byteValue ${a}`),t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,a)};return(0,a.bv)((()=>{console.log("NodeVariableSelect: onMounted"),o.value=s.value&l.bitMask,console.log(`NodeVariableSelect: props: ${JSON.stringify(l)}`)})),(l,t)=>{const i=(0,a.up)("q-select"),s=(0,a.up)("q-card-section"),r=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(r,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",ea,(0,n.zw)(e.displayTitle),1),(0,a._)("div",la,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(i,{modelValue:o.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.value=e),d],options:e.options,"map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},aa=ta,na=aa;S()(ta,"components",{QCard:g.Z,QCardSection:V.Z,QSelect:L.Z});const ia={class:"q-pa-md"},oa={class:"q-pa-xs row",style:{border:"1px solid grey"}};function sa(e,l,t,n,i,o){const s=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),r=(0,a.up)("NodeVariableNumber"),u=(0,a.up)("NodeVariableBitArray"),p=(0,a.up)("NodeVariableBitSingle"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect"),b=(0,a.up)("node-variable-slider"),v=(0,a.up)("NodeVariableTabGroup"),y=(0,a.up)("q-tab-panel"),g=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",ia,[(0,a.Wm)(d,{modelValue:n.selectedTab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(g,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":l[1]||(l[1]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(y,{key:e.displayTitle,name:e.displayTitle},{default:(0,a.w5)((()=>[(0,a._)("div",oa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.items,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:0,"node-number":n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:2,NodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:3,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:4,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:n.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:5,"node-number":n.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableGroup"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(v,{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const da={style:{border:"2px solid grey"}},ra={class:"GroupTitle"},ua={class:"q-pa-xs row"};function pa(e,l,t,i,o,s){const d=(0,a.up)("NodeVariableNumber"),r=(0,a.up)("NodeVariableBitArray"),u=(0,a.up)("NodeVariableBitSingle"),p=(0,a.up)("node-variable-slider"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect");return(0,a.wg)(),(0,a.iD)("div",da,[(0,a._)("div",ra,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",ua,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,"node-number":i.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:i.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,Title:e.displayTitle,Description:e.description,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","Title","Description"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,NodeNumber:i.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,"node-number":i.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:i.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&i.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:i.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0)])))),128))])])}const ma={components:{NodeVariableNumber:$t,NodeVariableBitArray:It,NodeVariableBitSingle:Dt,NodeVariableSlider:Xt,NodeVariableDual:zt,NodeVariableSelect:na},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=s(e.visibilityLogic,l)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Group onMounted"),console.log(": "+JSON.stringify(e))})),{store:l,isVisible:t}}},ca=(0,je.Z)(ma,[["render",pa],["__scopeId","data-v-77662be7"]]),ba=ca,va={props:{configuration:Object},components:{NodeVariableBitArray:It,NodeVariableBitSingle:Dt,NodeVariableDual:zt,NodeVariableNumber:$t,NodeVariableSelect:na,NodeVariableSlider:Xt,NodeVariableTabGroup:ba},setup(e){const l=(0,i.iH)(),t=(0,i.iH)(),n=(0,a.f3)("store");function o(e){var l=!0;return e.visibilityLogic&&(l=s(e.visibilityLogic,n)),console.log("isVisible: "+l+" "+e.type),l}return(0,a.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),l.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(l.value)),t.value=l.value[0].displayTitle})),{store:n,selectedTab:t,tabPanels:l,isVisible:o}}},ya=(0,je.Z)(va,[["render",sa]]),ga=ya;S()(va,"components",{QTabs:Pe.Z,QTab:Ae.Z,QTabPanels:Le.Z,QTabPanel:Ye.Z});const fa={components:{NodeVariableNumber:$t,NodeVariableBitArray:It,NodeVariableBitSingle:Dt,NodeVariableSlider:Xt,NodeVariableDual:zt,NodeVariableSelect:na,NodeVariableTabs:ga},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=s(e.visibilityLogic,l)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Group onMounted")})),{store:l,isVisible:t}}},wa=(0,je.Z)(fa,[["render",Mt],["__scopeId","data-v-32e5d1f4"]]),Va=wa,_a={__name:"NodeVariableRaw",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Variable"+l.nodeVariableIndex,n=(0,a.f3)("store"),o=(0,i.iH)(!1),s=(0,i.iH)(""),d=(0,i.iH)(),r=(0,a.Fl)((()=>n.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(r,(()=>{d.value=r.value}));const u=e=>{e<0||e>255||""==e?(o.value=!0,s.value="Invalid Value"):(o.value=!1,s.value="",n.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.bv)((()=>{d.value=r.value})),(e,l)=>{const n=(0,a.up)("q-input"),r=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(r,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{mask:"###",class:"bg-white",filled:"",label:(0,i.SU)(t),debounce:"1000",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),outlined:"","error-message":s.value,error:o.value,onChange:u},null,8,["label","modelValue","error-message","error"])])),_:1})}}},Na=_a,xa=Na;S()(_a,"components",{QCard:g.Z,QInput:E.Z});const Sa={class:"text-h6"},qa={key:0,class:"text-h6"},ha={key:1,class:"text-h6"},ka={class:"q-pa-xs row"},Ta={key:8},Ia={key:0,class:"q-pa-none row"},Wa={class:"q-pa-xs row"},Ua={key:0},Ca=(0,a._)("br",null,null,-1),Ba={class:"q-pa-xs row"},Da=(0,a._)("div",{class:"text-body1"},[(0,a.Uk)("Variables descriptor"),(0,a._)("br")],-1),Ea={class:"text-body2"},Za="NodevariablesDialog",Qa={__name:"NodeVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,R.Z)(),o=(0,a.f3)("store"),d=(0,i.iH)(!1),r=(0,i.iH)(),u=(0,i.iH)(!1),p=(0,i.iH)(!1),m=(0,i.iH)(!1),c=(0,i.iH)(!1);var b={};const v=e,y=l,g=(0,a.Fl)({get(){return v.modelValue},set(e){y("update:modelValue",e)}});(0,a.YP)(g,(()=>{console.log(Za+": WATCH model"),u.value=!1,c.value=!1}));const f=e=>{var l=!0;return e.visibilityLogic&&(l=s(e.visibilityLogic,o)),console.log(Za+": isVisible: "+l+" "+e.type),l},w=()=>{v.nodeNumber&&(void 0!=o.state.nodeDescriptors[v.nodeNumber]?(r.value=o.state.nodeDescriptors[v.nodeNumber].nodeVariables,d.value=!1):(r.value={},u.value=!0,d.value=!0))};(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(Za+": onUpdated"),r.value=null,v.nodeNumber&&(console.log("NodeVariableDialog onUpdated - nodeNumber "+v.nodeNumber),w(),V(),0==o.state.nodes[v.nodeNumber].parameters[6]?p.value=!0:p.value=!1)}));const V=()=>{console.log(Za+": checkFileLoad"),void 0==b[v.nodeNumber]&&("Unknown"==o.state.nodes[v.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),b=!0):void 0!=o.state.nodes[v.nodeNumber].moduleDescriptorFilename&&void 0==o.state.nodeDescriptors[v.nodeNumber]&&(t.notify({message:"Failed to load module file "+o.state.nodes[v.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),b[v.nodeNumber]=!0),b[v.nodeNumber]&&console.log(Za+": checkLoadFile notification raised"))},_=()=>{console.log(Za+": clickClose"),r.value={}},N=()=>{console.log(Za+": clickToggleRaw"),u.value?u.value=!1:u.value=!0},x=()=>{console.log(Za+": clickToggleNodeDescriptor"),c.value?c.value=!1:c.value=!0},S=()=>{console.log(Za+": clickUpdateModuleDescriptor"),m.value=!0};return(e,l)=>{const t=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),b=(0,a.up)("q-card-section"),y=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),V=(0,a.up)("q-dialog"),q=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(V,{modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=e=>g.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>S())}),(0,a.wy)((0,a.Wm)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[q]])])),default:(0,a.w5)((()=>[(0,a._)("div",Sa," Node Variables for node : "+(0,n.zw)((0,i.SU)(o).getters.node_name((0,i.SU)(o).state.selected_node)),1)])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[d.value?((0,a.wg)(),(0,a.iD)("div",qa," *** Descriptor not loaded for this node *** ")):(0,a.kq)("",!0),p.value?((0,a.wg)(),(0,a.iD)("div",ha," this node has no variables to display ")):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",ka,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableBitArray"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(It),{key:0,nodeNumber:v.nodeNumber,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Dt),{key:1,NodeNumber:v.nodeNumber,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(zt),{key:2,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:v.nodeNumber,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableGroup"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Va),{key:3,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"NodeVariableNumber"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)($t),{key:4,"node-number":v.nodeNumber,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(na),{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:v.nodeNumber,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(Xt),{key:6,"node-number":v.nodeNumber,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableTabs"==e.type&&f(e)?((0,a.wg)(),(0,a.j4)((0,i.SU)(ga),{key:7,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),(0,i.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("div",Ta,(0,n.zw)(e.type)+" - "+(0,n.zw)(e.nodeVariableIndex)+" - "+(0,n.zw)(e.displayTitle),1)):(0,a.kq)("",!0)])))),128))]),(0,a.Wm)(y,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{flat:"",label:"Toggle variables descriptor view",onClick:l[1]||(l[1]=e=>x())}),(0,a.Wm)(t,{flat:"",label:"Toggle raw view",onClick:l[2]||(l[2]=e=>N())}),(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Close",onClick:l[3]||(l[3]=e=>_())},null,512),[[q]])])),_:1}),u.value?((0,a.wg)(),(0,a.iD)("div",Ia,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(o).state.nodes[v.nodeNumber].parameters[6],(e=>((0,a.wg)(),(0,a.j4)((0,i.SU)(xa),{"node-variable-index":e,"node-number":v.nodeNumber,key:e},null,8,["node-variable-index","node-number"])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Wa,[(0,i.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("p",Ua,[(0,a.Uk)(" Debug: Node variables"),Ca,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(o).state.nodes[v.nodeNumber].nodeVariables)+"\n          ",1)])):(0,a.kq)("",!0)]),c.value?((0,a.wg)(),(0,a.j4)(b,{key:1,class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",Ba,[Da,(0,a._)("div",Ea,[(0,a._)("pre",null,(0,n.zw)(r.value),1)])])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)((0,i.SU)(gl),{modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=e=>m.value=e)},null,8,["modelValue"])],64)}}},Ha=Qa,za=Ha;S()(Qa,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QCardActions:_.Z}),S()(Qa,"directives",{ClosePopup:N.Z});const ja=(0,a._)("div",{class:"text-h6"},"Node parameters are still loading",-1),Oa=(0,a._)("div",{class:"text-h6"},"Please close this dialog and try again",-1),Fa={__name:"parametersLoadingDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.f3)("store");const t=e,n=l,i=(0,a.Fl)({get(){return t.modelValue},set(e){n("update:modelValue",e)}});return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const t=(0,a.up)("q-card-section"),n=(0,a.up)("q-btn"),o=(0,a.up)("q-card-actions"),s=(0,a.up)("q-card"),d=(0,a.up)("q-dialog"),r=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(d,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[ja,Oa])),_:1}),(0,a.Wm)(o,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(n,{flat:"",label:"Close"},null,512),[[r]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Ma=Fa,Pa=Ma;S()(Fa,"components",{QDialog:y.Z,QCard:g.Z,QCardSection:V.Z,QCardActions:_.Z,QBtn:w.Z}),S()(Fa,"directives",{ClosePopup:N.Z});const Aa=(0,a._)("div",{class:"text-h6"},"Nodes list",-1),La={key:1},Ya="NodesList",$a={__name:"NodesList",setup(e){const l=[{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node number",align:"left",sortable:!0},{name:"nodeName",field:"nodeName",required:!0,label:"Name",align:"left",sortable:!0},{name:"moduleName",field:"moduleName",required:!0,label:"Module name",align:"left",sortable:!0},{name:"mode",field:"mode",required:!0,label:"Mode",align:"left",sortable:!0},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"events",field:"events",required:!0,label:"Stored Events",align:"left",sortable:!1},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],t=(0,a.f3)("store"),o=(0,i.iH)(""),s=(0,i.iH)([]),d=(0,i.iH)(!1),r=(0,i.iH)(!1),u=(0,i.iH)(!1),p=(0,i.iH)(!1),m=(0,i.iH)(!1),c=(0,i.iH)(!1),b=(0,i.iH)(),v=(0,i.iH)(!1),y=(0,a.Fl)((()=>Object.values(t.state.nodes)));(0,a.YP)(y,(()=>{f()}));const g=(0,a.Fl)((()=>t.state.layout.nodeDetails));(0,a.YP)(g,(()=>{f()}));const f=()=>{console.log(Ya+": update_rows"),s.value=[],y.value.forEach((e=>{let l={};l["nodeNumber"]=e.nodeNumber,l["nodeName"]=w(e.nodeNumber),l["moduleName"]=e.moduleName,l["component"]=e.component,l["status"]=e.status,l["mode"]=e.flim,l["events"]=e.eventCount,s.value.push(l)}))},w=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].name:e.toString()+" - "+t.state.nodes[e].moduleName,V=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].colour:"blue";(0,a.wF)((()=>{t.methods.query_all_nodes()}));const _=e=>{t.state.nodes[e].parameters[9]?console.log(Ya+": parameters exist"):(console.log(Ya+": need to read parameters"),t.methods.request_all_node_parameters(e,20,100))},N=e=>{t.state.selected_node!=e&&(console.log(Ya+": request_all_node_events"),t.state.selected_node=e,t.methods.request_all_node_events(t.state.selected_node),b.value=e,d.value=!0,console.log(Ya+": node row ",t.state.selected_node+" selected"))};t.eventBus.on("NODE_DELETED_EVENT",(e=>{console.log(Ya+": NODE_DELETED_EVENT - node number "+e),t.state.selected_node==e&&(d.value=!1)}));const x=e=>{console.log(Ya+": clickAddEvent: node",t.state.selected_node),_(e),N(e),console.log("add event",e),t.state.nodes[e].parameters[9]?r.value=!0:v.value=!0},S=e=>{_(e),N(e),u.value=!0,console.log(Ya+": clickDeleteNode: node"+t.state.selected_node)},q=e=>{_(e),N(e),console.log(Ya+": clickEvents: node",e)},h=e=>{_(e),N(e),console.log(Ya+": clickNameNode: node "+e),p.value=!0},k=e=>{_(e),N(e),console.log(Ya+": clickParameters: node "+e),m.value=!0},T=()=>{console.log(Ya+": clickRefresh"),t.methods.query_all_nodes()},I=e=>{_(e),N(e),console.log(Ya+": clickVariables: node "+e),t.state.nodes[e].parameters[9]?(t.methods.request_all_node_variables(e,t.state.nodes[e].parameters[6],100,1),c.value=!0):v.value=!0};return(e,y)=>{const g=(0,a.up)("q-btn"),f=(0,a.up)("q-banner"),w=(0,a.up)("q-td"),_=(0,a.up)("q-chip"),N=(0,a.up)("q-tr"),W=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(f,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(g,{flat:"",color:"white",size:"sm",label:"Refresh",onClick:y[0]||(y[0]=e=>T())})])),default:(0,a.w5)((()=>[Aa])),_:1}),(0,a._)("div",null,[(0,a.Wm)(W,{style:{height:"350px"},rows:s.value,bordered:"",dense:"",columns:l,filter:o.value,"row-key":"nodeNumber","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(N,{props:e,class:(0,n.C_)(b.value==e.row.nodeNumber?"bg-blue-1":"bg-white")},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{key:"nodeNumber",class:(0,n.C_)("text-"+V(e.row.nodeNumber)),props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["class","props"]),(0,a.Wm)(w,{key:"nodeName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"moduleName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.moduleName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"mode",props:e},{default:(0,a.w5)((()=>[e.row.mode?((0,a.wg)(),(0,a.j4)(_,{key:0,color:"white","text-color":"blue"},{default:(0,a.w5)((()=>[(0,a.Uk)("Flim")])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("Slim")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"status",props:e},{default:(0,a.w5)((()=>[e.row.status?((0,a.wg)(),(0,a.j4)(_,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("OK")])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("Error")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"events",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.events),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"actions"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{color:"cyan-1","text-color":"black",size:"md",label:"Events",onClick:l=>q(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(g,{color:"primary",size:"md",flat:"",label:"Name",onClick:l=>h(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(g,{color:"primary",size:"md",flat:"",label:"Parameters",onClick:l=>k(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(g,{color:"primary",size:"md",flat:"",label:"Variables",onClick:l=>I(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(g,{color:"primary",size:"md",flat:"",label:"Add Event",onClick:l=>x(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(g,{color:"negative",size:"md",flat:"",label:"Delete",onClick:l=>S(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props","class"])])),_:1},8,["rows","filter"]),1==d.value?((0,a.wg)(),(0,a.j4)((0,i.SU)(zl),{key:0,nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["nodeNumber"])):(0,a.kq)("",!0),(0,a.Wm)((0,i.SU)(at),{modelValue:r.value,"onUpdate:modelValue":y[1]||(y[1]=e=>r.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,i.SU)(rt),{modelValue:u.value,"onUpdate:modelValue":y[2]||(y[2]=e=>u.value=e),nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,i.SU)(ct),{modelValue:p.value,"onUpdate:modelValue":y[3]||(y[3]=e=>p.value=e),nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,i.SU)(_t),{modelValue:m.value,"onUpdate:modelValue":y[4]||(y[4]=e=>m.value=e),nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,i.SU)(za),{modelValue:c.value,"onUpdate:modelValue":y[5]||(y[5]=e=>c.value=e),nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,i.SU)(Pa),{modelValue:v.value,"onUpdate:modelValue":y[6]||(y[6]=e=>v.value=e),nodeNumber:(0,i.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,i.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",La,(0,n.zw)(Object.values((0,i.SU)(t).state.nodes)),1)):(0,a.kq)("",!0)])])}}};var Ja=t(7030);const Ra=$a,Ga=Ra;S()($a,"components",{QBanner:f.Z,QBtn:w.Z,QTable:Y.Z,QTr:Zl.Z,QTd:Ql.Z,QChip:Ja.Z});var Ka=t(8880);const Xa={class:"q-pa-md row items-start q-gutter-md"},en=(0,a._)("div",{class:"text-h6"},"Event Details",-1),ln=(0,a._)("div",{class:"text-subtitle2"},"Details to help identify the Event",-1),tn=(0,a._)("div",{class:"text-h6"},"Teach Event",-1),an=(0,a._)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),nn={class:"q-pa-xs q-gutter-sm"},on=(0,a._)("div",{class:"text-h6"},"Taught Events",-1),sn=(0,a._)("div",{class:"text-subtitle2"},"Nodes using this event",-1),dn=(0,a._)("div",{class:"text-h6"},"Generate event",-1),rn=(0,a._)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),un={class:"q-pa-md q-gutter-sm"},pn={__name:"EventDetails",props:{eventIdentifier:{type:String,required:!0},nodeNumber:{type:Number,required:!0},eventNumber:{type:Number,required:!0},type:{type:String,required:!0}},setup(e){const l=e,t=(0,i.iH)(""),n=(0,i.iH)(""),o=(0,i.iH)(""),s=(0,i.iH)(),d=(0,i.iH)([]),r=(0,i.iH)([]),u=(0,i.iH)([]),p=(0,i.iH)([]),m=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],c=(0,a.f3)("store"),b=(0,a.Fl)((()=>Object.values(c.state.layout.eventDetails)));(0,a.YP)(b,(()=>{console.log("WATCH Node Details"),g(),v()}));const v=()=>{u.value=[],b.value.forEach((e=>{u.value.includes(e.group)||u.value.push(e.group)}))},y=(0,a.Fl)((()=>Object.values(c.state.nodes)));(0,a.YP)(y,(()=>{g(),v()}));const g=()=>{p.value=[],r.value=[],y.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let t=Object.values(e.storedEvents);t.forEach((t=>{if(t.eventIdentifier==l.eventIdentifier){r.value.push(t.node);var a=c.state.layout.nodeDetails[e.nodeNumber].name;p.value.push({number:e.nodeNumber,name:a})}}))}})),f()},f=()=>{d.value=[];var e=c.state.nodes;for(var l in e){var t=!0;for(var a in r.value)r.value[a]==l&&(t=!1);if(t&&e[l].consumer){var n=l+": ";c.state.layout.nodeDetails[l]&&(n+=c.state.layout.nodeDetails[l].name),d.value.push(n)}}};(0,a.bv)((()=>{l.eventIdentifier in c.state.layout.eventDetails?(t.value=c.state.layout.eventDetails[l.eventIdentifier].name,n.value=c.state.layout.eventDetails[l.eventIdentifier].colour,o.value=c.state.layout.eventDetails[l.eventIdentifier].group):(t.value=l.eventIdentifier,n.value="black",o.value=""),g(),v()}));const w=()=>{if(console.log(`teach_event : ${s.value} : ${l.eventIdentifier}`),""!=s.value){var e=s.value.split(":");console.log(`teach_event : ${e[0]} : ${l.eventIdentifier}`),c.methods.teach_event(e[0],l.eventIdentifier,l.eventIndex),s.value=void 0}},V=()=>{l.eventIdentifier in c.state.layout.eventDetails===!1&&(c.state.layout.eventDetails[l.eventIdentifier]={}),c.state.layout.eventDetails[l.eventIdentifier].name=t.value,c.state.layout.eventDetails[l.eventIdentifier].colour=n.value,c.state.layout.eventDetails[l.eventIdentifier].group=o.value,c.methods.update_layout()},_=()=>{"long"==l.type?c.methods.long_on_event(l.nodeNumber,l.eventNumber):c.methods.short_on_event(l.nodeNumber,l.eventNumber)},N=()=>{"long"==l.type?c.methods.long_off_event(l.nodeNumber,l.eventNumber):c.methods.short_off_event(l.nodeNumber,l.eventNumber)};return(e,l)=>{const n=(0,a.up)("q-input"),i=(0,a.up)("q-card-section"),o=(0,a.up)("q-card"),r=(0,a.up)("q-select"),u=(0,a.up)("q-btn"),c=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",Xa,[(0,a.Wm)(o,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[en,ln,(0,a.Wm)(n,{class:"q-pa-sm",outlined:"",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),label:"Event Name",maxlength:"30",onChange:V},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[tn,an,(0,a.Wm)(r,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),options:d.value},null,8,["modelValue","options"]),(0,a._)("div",nn,[(0,a.Wm)(u,{color:"negative",label:"Teach",onClick:l[2]||(l[2]=e=>w()),"no-caps":""})])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[on,sn,(0,a.Wm)(c,{flat:"",bordered:"",dense:"",rows:p.value,columns:m,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(o,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[dn,rn,(0,a._)("div",un,[(0,a.Wm)(u,{color:"green",label:"ON",onClick:l[3]||(l[3]=e=>_())}),(0,a.Wm)(u,{color:"negative",label:"OFF",onClick:l[4]||(l[4]=e=>N())})])])),_:1})])),_:1})])}}},mn=pn,cn=mn;S()(pn,"components",{QCard:g.Z,QCardSection:V.Z,QInput:E.Z,QSelect:L.Z,QBtn:w.Z,QTable:Y.Z});const bn=(0,a._)("div",{class:"text-h6"}," Bus Events Dialog ",-1),vn=(0,a._)("div",{class:"col-2 q-table__title text-h4"},"Bus Events",-1),yn="BusEventsDialog",gn={__name:"BusEventsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=((0,i.iH)("nodes"),(0,i.iH)("")),s={rowsPerPage:0};let d=(0,i.iH)();const r=[{name:"expand",field:"expand",required:!0,label:"Expand",align:"left",sortable:!1},{name:"eventName",field:"name",required:!0,label:"Event Name",align:"left",sortable:!1},{name:"eventIdentifier",field:"id",required:!0,label:"Event Identifier",align:"left",sortable:!1},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!1},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event Number",align:"left",sortable:!1},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!1},{name:"type",field:"type",required:!0,label:"Type",align:"left",sortable:!1},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],u=e,p=l,m=(0,a.Fl)({get(){return u.modelValue},set(e){p("update:modelValue",e)}});(0,a.YP)(m,(()=>{console.log(yn+": WATCH model")}));const c=(0,a.Fl)((()=>Object.values(t.state.events))),b=(0,a.Fl)((()=>t.state.layout));(0,a.YP)(c,(()=>{v()})),(0,a.YP)(b,(()=>{v()}));const v=()=>{let e=[],l=t.state.events;for(let t of Object.keys(l).sort()){let a={};a["id"]=l[t].id,a["nodeNumber"]=l[t].nodeNumber,a["eventNumber"]=l[t].eventNumber,a["status"]=l[t].status,a["type"]=l[t].type,a["count"]=l[t].count,a["name"]=y(l[t].id),a["colour"]=g(l[t].id),a["group"]=f(l[t].id),e.push(a)}d.value=e},y=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].name:JSON.stringify(e),g=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].colour:"blue",f=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].group:"";return(0,a.wF)((()=>{t.methods.query_all_nodes()})),(0,a.bv)((()=>{for(var e in t.methods.refresh_events(),t.state.nodes)console.log("request Events for node "+e),t.methods.request_all_node_events(e)})),(e,l)=>{const u=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),c=(0,a.up)("q-space"),b=(0,a.up)("q-icon"),v=(0,a.up)("q-input"),y=(0,a.up)("q-td"),f=(0,a.up)("q-chip"),w=(0,a.up)("q-tr"),V=(0,a.up)("q-table"),_=(0,a.up)("q-card-actions"),N=(0,a.up)("q-card"),x=(0,a.up)("q-dialog"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(x,{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[S]])])),default:(0,a.w5)((()=>[bn])),_:1}),(0,a.Wm)(V,{title:"Events",rows:(0,i.SU)(d),columns:r,filter:o.value,"row-key":"id","virtual-scroll":"",pagnation:s,"onUpdate:pagnation":l[3]||(l[3]=e=>s=e),"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[vn,(0,a.Wm)(c),(0,a.Wm)(v,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(b,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(c),(0,a.Wm)(u,{color:"negative",label:"Refresh Events",onClick:l[1]||(l[1]=e=>(0,i.SU)(t).methods.refresh_events()),"no-caps":""}),(0,a.Wm)(c),(0,a.Wm)(u,{color:"negative",label:"Clear Events",onClick:l[2]||(l[2]=e=>(0,i.SU)(t).methods.clear_events()),"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(w,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{key:"expand","auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{size:"sm",color:"accent",round:"",dense:"",onClick:l=>e.expand=!e.expand,icon:e.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,a.Wm)(y,{key:"eventName",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.name),1)])),_:2},1032,["props","class"]),(0,a.Wm)(y,{key:"eventIdentifier",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props","class"]),(0,a.Wm)(y,{key:"nodeNumber",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(y,{key:"eventNumber",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(y,{key:"status",props:e},{default:(0,a.w5)((()=>["on"==e.row.status?((0,a.wg)(),(0,a.j4)(f,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("ON")])),_:1})):((0,a.wg)(),(0,a.j4)(f,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("OFF")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(y,{key:"type",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props","class"]),(0,a.Wm)(y,{key:"count",props:e,class:(0,n.C_)("text-"+g(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props","class"])])),_:2},1032,["props"]),(0,a.wy)((0,a.Wm)(w,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{colspan:"100%"},{default:(0,a.w5)((()=>[(0,a.Wm)(cn,{eventIdentifier:e.row.id,nodeNumber:e.row.nodeNumber,eventNumber:e.row.eventNumber,type:e.row.type},null,8,["eventIdentifier","nodeNumber","eventNumber","type"])])),_:2},1024)])),_:2},1032,["props"]),[[Ka.F8,e.expand]])])),_:1},8,["rows","filter"]),(0,a.Wm)(_,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Close"},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var fn=t(2025),wn=t(4554);const Vn=gn,_n=Vn;S()(gn,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QTable:Y.Z,QSpace:fn.Z,QInput:E.Z,QIcon:wn.Z,QTr:Zl.Z,QTd:Ql.Z,QChip:Ja.Z,QCardActions:_.Z}),S()(gn,"directives",{ClosePopup:N.Z});const Nn=(0,a._)("div",{class:"text-h6"}," Cbus Error Dialog ",-1),xn=(0,a._)("div",{class:"col-4 q-table__title text-h4"},"CBUS Errors",-1),Sn={key:0},qn="CbusErrorsDialog",hn={__name:"CbusErrorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(""),s=[{name:"id",field:"id",required:!0,label:"Error Id",align:"left",sortable:!0},{name:"Error",field:"Error",required:!0,label:"Error",align:"left",sortable:!0},{name:"Message",field:"Message",required:!0,label:"Message",align:"left",sortable:!0},{name:"node",field:"node",required:!0,label:"Node",align:"left",sortable:!0},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],d=e,r=l,u=(0,a.Fl)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.YP)(u,(()=>{console.log(qn+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const p=()=>{t.methods.clear_cbus_errors()};return(e,l)=>{const d=(0,a.up)("q-btn"),r=(0,a.up)("q-banner"),m=(0,a.up)("q-space"),c=(0,a.up)("q-icon"),b=(0,a.up)("q-input"),v=(0,a.up)("q-td"),y=(0,a.up)("q-tr"),g=(0,a.up)("q-table"),f=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),V=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(V,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[Nn])),_:1}),(0,a.Wm)(g,{title:"Nodes",rows:Object.values((0,i.SU)(t).state.cbus_errors),columns:s,filter:o.value,"row-key":"id","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[xn,(0,a.Wm)(m),(0,a.Wm)(b,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(c,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(m),(0,a.Wm)(d,{color:"negative",label:"Clear Errors",onClick:p,"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(y,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{key:"id",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"type",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"Error",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Error),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"Message",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Message),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"node",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.node),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"count",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,i.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",Sn,(0,n.zw)(Object.values((0,i.SU)(t).state.cbus_errors)),1)):(0,a.kq)("",!0),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",label:"Close"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},kn=hn,Tn=kn;S()(hn,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QTable:Y.Z,QSpace:fn.Z,QInput:E.Z,QIcon:wn.Z,QTr:Zl.Z,QTd:Ql.Z,QCardActions:_.Z}),S()(hn,"directives",{ClosePopup:N.Z});const In=(0,a._)("div",{class:"text-h6"}," JSON Dialog ",-1),Wn=(0,a._)("div",{class:"text-h6"},"Nodes",-1),Un=(0,a._)("div",{class:"text-h6"},"Node Descriptors",-1),Cn=(0,a._)("div",{class:"text-h6"},"Events",-1),Bn=(0,a._)("div",{class:"text-h6"},"Layout",-1),Dn=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),En=(0,a._)("div",{class:"text-h6"},"Node Traffic",-1),Zn=(0,a._)("div",{class:"text-h6"},"Cbus Errors",-1),Qn="JsonDialog",Hn={__name:"JsonDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)("nodes"),s=e,d=l,r=(0,a.Fl)({get(){return s.modelValue},set(e){d("update:modelValue",e)}});return(0,a.YP)(r,(()=>{console.log(Qn+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),d=(0,a.up)("q-banner"),u=(0,a.up)("q-tab"),p=(0,a.up)("q-tabs"),m=(0,a.up)("q-tab-panel"),c=(0,a.up)("q-tab-panels"),b=(0,a.up)("q-card"),v=(0,a.up)("q-card-actions"),y=(0,a.up)("q-dialog"),g=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(y,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[g]])])),default:(0,a.w5)((()=>[In])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"cbusErrors",label:"Cbus Errors"}),(0,a.Wm)(u,{name:"events",label:"Events"}),(0,a.Wm)(u,{name:"layout",label:"Layout"}),(0,a.Wm)(u,{name:"layouts",label:"Layouts"}),(0,a.Wm)(u,{name:"nodes",label:"Nodes"}),(0,a.Wm)(u,{name:"nodeDescriptors",label:"Node Descriptors"}),(0,a.Wm)(u,{name:"traffic",label:"Traffic"})])),_:1},8,["modelValue"]),(0,a.Wm)(c,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"nodes"},{default:(0,a.w5)((()=>[Wn,(0,a._)("pre",null,"              "+(0,n.zw)((0,i.SU)(t).state.nodes)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"nodeDescriptors"},{default:(0,a.w5)((()=>[Un,(0,a._)("pre",null,"              "+(0,n.zw)((0,i.SU)(t).state.nodeDescriptors)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"events"},{default:(0,a.w5)((()=>[Cn,(0,a._)("pre",null,"              "+(0,n.zw)((0,i.SU)(t).state.events)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"layout"},{default:(0,a.w5)((()=>[Bn,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(t).state.layout)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"layouts"},{default:(0,a.w5)((()=>[Dn,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(t).state.layouts_list)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"traffic"},{default:(0,a.w5)((()=>[En,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(t).state.nodeTraffic)+"\n            ",1)])),_:1}),(0,a.Wm)(m,{name:"cbusErrors"},{default:(0,a.w5)((()=>[Zn,(0,a._)("pre",null,"            "+(0,n.zw)((0,i.SU)(t).state.cbus_errors)+"\n            ",1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(v,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Close"},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},zn=Hn,jn=zn;S()(Hn,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QTabs:Pe.Z,QTab:Ae.Z,QTabPanels:Le.Z,QTabPanel:Ye.Z,QCardActions:_.Z}),S()(Hn,"directives",{ClosePopup:N.Z});const On=(0,a._)("div",{class:"text-h6"}," Manage Layout ",-1),Fn={class:"q-pa-md q-mr-sm rounded-borders"},Mn={class:"text-h5 text-black"},Pn={class:"text-h6 text-black"},An={class:"q-pa-md row"},Ln=(0,a._)("div",{class:"text-h6"},"Change layout",-1),Yn=(0,a._)("p",null,"Click on the list of layouts to select an existing layout, or enter a name for a new layout, then click change",-1),$n=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),Jn=(0,a._)("div",{class:"text-h6 text-black"},"Edit layout details",-1),Rn="LayoutDialog",Gn={__name:"LayoutDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(""),s=(0,i.iH)([]),d=[{name:"layout",field:"layout",required:!0,label:"Layout",align:"left",sortable:!0}],r=e,u=l,p=(0,a.Fl)({get(){return r.modelValue},set(e){u("update:modelValue",e)}});(0,a.YP)(p,(()=>{console.log(Rn+": WATCH model"),c()}));const m=(0,a.Fl)((()=>Object.values(t.state.layouts_list)));(0,a.YP)(m,(()=>{console.log(Rn+": WATCH layoutList"),c()}));const c=()=>{s.value=[],m.value.forEach((e=>{console.log(Rn+": update "+e),s.value.push({layout:e})}))},b=()=>{console.log(Rn+": Change layout"),t.methods.change_layout(o.value),t.methods.request_layout_list(),o.value=""},v=e=>{console.log(Rn+": clickLayouts on ",e),o.value=e};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const r=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),m=(0,a.up)("q-input"),c=(0,a.up)("q-card-section"),y=(0,a.up)("q-card"),g=(0,a.up)("q-td"),f=(0,a.up)("q-table"),w=(0,a.up)("q-card-actions"),V=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(V,{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=e=>p.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{style:{"min-width":"900px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(r,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[On])),_:1}),(0,a._)("div",Fn,[(0,a._)("div",Mn,(0,n.zw)((0,i.SU)(t).state.layout.layoutDetails.title),1),(0,a._)("div",Pn,(0,n.zw)((0,i.SU)(t).state.layout.layoutDetails.subTitle),1)]),(0,a._)("div",An,[(0,a.Wm)(y,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[Ln,(0,a.Wm)(m,{class:"q-pa-sm",outlined:"",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),label:"layout name",maxlength:"30"},null,8,["modelValue"]),Yn,(0,a.Wm)(r,{color:"negative",label:"change",onClick:l[1]||(l[1]=e=>b()),"no-caps":""})])),_:1})])),_:1}),(0,a.Wm)(y,{inline:"",class:"q-pa-xs",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[$n,(0,a.Wm)(f,{flat:"",bordered:"",dense:"",rows:s.value,columns:d,"row-key":"name","hide-header":"",pagination:{rowsPerPage:10}},{"body-cell":(0,a.w5)((e=>[(0,a.Wm)(g,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{flat:"",color:"primary",label:e.value,onClick:l=>v(e.value)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(y,{inline:"",class:"q-pa-md",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[Jn,(0,a.Wm)(m,{label:"Sub Title",outlined:"",modelValue:(0,i.SU)(t).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.SU)(t).state.layout.layoutDetails.subTitle=e),onChange:l[3]||(l[3]=e=>(0,i.SU)(t).methods.update_layout())},null,8,["modelValue"])])),_:1})]),(0,a.Wm)(w,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(r,{flat:"",label:"Close"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Kn=Gn,Xn=Kn;S()(Gn,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QInput:E.Z,QTable:Y.Z,QTd:Ql.Z,QCardActions:_.Z}),S()(Gn,"directives",{ClosePopup:N.Z});const ei=(0,a._)("div",{class:"text-h6"}," Bus message ",-1),li={class:"text-h6"},ti={class:"text-h6"},ai={class:"text-h6"},ni="ModifiedGridConnectDialog",ii={__name:"ModifiedGridConnectDialog",props:{modelValue:{type:Boolean,required:!0},busMessage:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.f3)("store");const t=e,i=l,o=(0,a.Fl)({get(){return t.modelValue},set(e){i("update:modelValue",e)}});return(0,a.YP)(o,(()=>{console.log(ni+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(l,t)=>{const i=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),d=(0,a.up)("q-card-section"),r=(0,a.up)("q-card"),u=(0,a.up)("q-dialog"),p=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(u,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.w5)((()=>[ei])),_:1}),(0,a.Wm)(d,{class:"fit"},{default:(0,a.w5)((()=>[(0,a._)("div",li,"direction: "+(0,n.zw)(e.busMessage.direction),1),(0,a._)("div",ti," message: "+(0,n.zw)(e.busMessage.json.text),1),(0,a._)("div",ai," encoded: "+(0,n.zw)(e.busMessage.json.encoded),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},oi=ii,si=oi;S()(ii,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z}),S()(ii,"directives",{ClosePopup:N.Z});const di=(0,a._)("div",{class:"text-h6"}," New node detected ",-1),ri=(0,a._)("div",{class:"text-h6"},[(0,a.Uk)(" Accept the first free node number below "),(0,a._)("br"),(0,a.Uk)(" or enter a new one ")],-1),ui={class:"text-h6"},pi=(0,a._)("div",{class:"text-h6"}," Enter a name for this node (optional) ",-1),mi="NewNodeDialog",ci={__name:"NewNodeDialog",props:{modelValue:{type:Boolean,required:!0},previousNodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,i.iH)(""),s=(0,i.iH)(0),d=e,r=l,u=(0,a.Fl)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.YP)(u,(()=>{console.log(mi+": WATCH model"),console.log(mi+": WATCH model: previousNodeNumber "+d.previousNodeNumber),s.value=p()}));const p=()=>{var e=0,l=256;t.state.layout.layoutDetails.baseNodeNumber&&(l=t.state.layout.layoutDetails.baseNodeNumber);for(var a=Object.keys(t.state.nodes),n=l;n<65535;n++)if(!a.includes(n.toString())){console.log(mi+" first free node number: "+n),e=n;break}return e};(0,a.ic)((()=>{}));const m=()=>{console.log(mi+" new node number: "+s.value),console.log(mi+" new node name: "+o.value),t.methods.set_node_number(s.value),t.setters.node_name(s.value,o.value)};return(e,l)=>{const t=(0,a.up)("q-btn"),i=(0,a.up)("q-banner"),r=(0,a.up)("q-input"),p=(0,a.up)("q-card-section"),c=(0,a.up)("q-card-actions"),b=(0,a.up)("q-card"),v=(0,a.up)("q-dialog"),y=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(v,{modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=e=>u.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{style:{"min-width":"350px"},class:"bg-amber-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[y]])])),default:(0,a.w5)((()=>[di])),_:1}),(0,a.Wm)(p,{class:"q-pa-md",color:"orange-1"},{default:(0,a.w5)((()=>[ri,(0,a.Wm)(r,{type:"number",style:{"max-width":"150px"},"input-style":{fontSize:"25px"},dense:"",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),autofocus:""},null,8,["modelValue"]),(0,a._)("div",ui," This node was previously "+(0,n.zw)(d.previousNodeNumber),1)])),_:1}),(0,a.Wm)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[pi,(0,a.Wm)(r,{"input-style":{fontSize:"25px"},dense:"",modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Accept",onClick:l[2]||(l[2]=e=>m())},null,512),[[y]]),(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Cancel"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},bi=ci,vi=bi;S()(ci,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QCardSection:V.Z,QInput:E.Z,QCardActions:_.Z}),S()(ci,"directives",{ClosePopup:N.Z});const yi=JSON.parse('{"name":"MMC-CLIENT","version":"0.1.6","description":"Module Management Console Client","productName":"MMC","author":"David Ellis","private":true,"scripts":{"lint":"eslint --ext .js,.vue ./","format":"prettier --write \\"**/*.{js,vue,scss,html,md,json}\\" --ignore-path .gitignore","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@quasar/extras":"^1.0.0","core-js":"^3.6.5","quasar":"^2.0.0","sass":"^1.69.5","socket.io-client":"^4.4.1","vue":"^3.0.0","vue-json-pretty":"^1.8.2","vue-router":"^4.0.0"},"devDependencies":{"@babel/eslint-parser":"^7.13.14","@quasar/app":"^3.0.0","eslint":"^7.14.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.0.0","eslint-webpack-plugin":"^2.4.0","prettier":"^2.5.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 12.22.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}'),gi=(0,a._)("div",{class:"text-h6"}," Manage Layout ",-1),fi=(0,a._)("div",{class:"text-h6"},"Backend",-1),wi=(0,a._)("div",{class:"text-h6"},"Frontend",-1),Vi="SystemDialog",_i={__name:"SystemDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,d=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}});(0,a.YP)(d,(()=>{console.log(Vi+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const r=()=>{console.log(Vi+": clickStop"),t.methods.STOP_SERVER()};return(e,l)=>{const o=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),u=(0,a.up)("q-card"),p=(0,a.up)("q-input"),m=(0,a.up)("q-checkbox"),c=(0,a.up)("q-card-actions"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:d.value,"onUpdate:modelValue":l[6]||(l[6]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{style:{"min-width":"900px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[gi])),_:1}),(0,a.Wm)(u,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[fi,(0,a._)("div",null,"Backend App version "+(0,n.zw)(JSON.stringify((0,i.SU)(t).state.version.App)),1),(0,a._)("div",null,"API version "+(0,n.zw)(JSON.stringify((0,i.SU)(t).state.version.API)),1),(0,a._)("div",null,"node version "+(0,n.zw)(JSON.stringify((0,i.SU)(t).state.version.node)),1)])),_:1}),(0,a.Wm)(u,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[wi,(0,a._)("div",null,"Frontend App version "+(0,n.zw)((0,i.SU)(yi).version),1),(0,a._)("div",null,"Quasar framework "+(0,n.zw)(e.$q.version),1),(0,a._)("div",null,"Vue version "+(0,n.zw)(a.i8))])),_:1}),(0,a.Wm)(u,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{color:"negative",label:"stop Server",onClick:l[0]||(l[0]=e=>r()),"no-caps":""}),(0,a.Uk)(" This will signal the server to stop and close the page ")])),_:1}),(0,a.wy)((0,a.Wm)(u,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{label:"Base Node Number",outlined:"",modelValue:(0,i.SU)(t).state.layout.layoutDetails.baseNodeNumber,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.SU)(t).state.layout.layoutDetails.baseNodeNumber=e),onChange:l[2]||(l[2]=e=>(0,i.SU)(t).methods.update_layout())},null,8,["modelValue"])])),_:1},512),[[Ka.F8,(0,i.SU)(t).state.advanced]]),(0,a.Wm)(u,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:(0,i.SU)(t).state.debug,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,i.SU)(t).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,a.Wm)(m,{modelValue:(0,i.SU)(t).state.advanced,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.SU)(t).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,a.Wm)(m,{modelValue:(0,i.SU)(t).state.develop,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,i.SU)(t).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Close"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Ni=_i,xi=Ni;S()(_i,"components",{QDialog:y.Z,QCard:g.Z,QBanner:f.Z,QBtn:w.Z,QInput:E.Z,QCheckbox:K.Z,QCardActions:_.Z}),S()(_i,"directives",{ClosePopup:N.Z});const Si=e=>((0,a.dD)("data-v-b84939f4"),e=e(),(0,a.Cn)(),e),qi=Si((()=>(0,a._)("span",{style:{"min-height":"0"},class:"text-h6"}," Module Management Console ",-1))),hi={class:"text-h6"},ki=Si((()=>(0,a._)("div",{class:"text-h6 float-right"},null,-1))),Ti=Si((()=>(0,a._)("div",{class:"text-h6"}," Bus traffic ",-1))),Ii={key:0},Wi=Si((()=>(0,a._)("br",null,null,-1))),Ui=Si((()=>(0,a._)("br",null,null,-1))),Ci=Si((()=>(0,a._)("br",null,null,-1))),Bi=Si((()=>(0,a._)("br",null,null,-1))),Di=Si((()=>(0,a._)("br",null,null,-1))),Ei=Si((()=>(0,a._)("br",null,null,-1))),Zi="MainLayout",Qi={__name:"MainLayout",setup(e){const l=(0,a.f3)("store"),t=(0,i.iH)(!1),o=(0,i.iH)(!1),s=(0,i.iH)(!1),d=(0,i.iH)(!1),r=(0,i.iH)(!1),u=(0,i.iH)(!1),p=(0,i.iH)(!1),m=(0,i.iH)(!1),c=(0,i.iH)(""),b=(0,i.iH)();l.eventBus.on("REQUEST_NODE_NUMBER_EVENT",(e=>{console.log(Zi+": REQUEST_NODE_NUMBER_EVENT - previous node number "+e),b.value=e,p.value=!0}));const v=()=>{console.log(Zi+": clickCbusErrors"),s.value=!0},y=()=>{console.log(Zi+": clickBusEvents"),o.value=!0},g=e=>{console.log(Zi+": clickSingleBusEvent"),c.value=e,u.value=!0},f=()=>{console.log(Zi+": clickJson"),d.value=!0},w=()=>{console.log(Zi+": clickLayout"),r.value=!0},V=()=>{console.log(Zi+": clickSystem"),m.value=!0};return(e,_)=>{const N=(0,a.up)("q-item-section"),x=(0,a.up)("q-item"),S=(0,a.up)("q-list"),q=(0,a.up)("q-menu"),h=(0,a.up)("q-btn"),k=(0,a.up)("q-toolbar-title"),T=(0,a.up)("q-toolbar"),I=(0,a.up)("q-space"),W=(0,a.up)("q-header"),U=(0,a.up)("q-banner"),C=(0,a.up)("q-item-label"),B=(0,a.up)("q-card"),D=(0,a.up)("q-drawer"),E=(0,a.up)("q-page"),Z=(0,a.up)("q-page-container"),Q=(0,a.up)("q-layout"),H=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Q,{view:"hHh lpR fFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{style:{"min-height":"0"},class:"row bg-primary text-white no-margin no-padding"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{flat:"",dense:"",icon:"menu"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{"auto-close":""},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{clickable:"",onClick:_[0]||(_[0]=e=>w())},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Layout")])),_:1})])),_:1}),(0,a.Wm)(x,{clickable:"",onClick:_[1]||(_[1]=e=>y())},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Bus events")])),_:1})])),_:1}),(0,a.Wm)(x,{clickable:"",onClick:_[2]||(_[2]=e=>f())},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Uk)("JSON")])),_:1})])),_:1}),(0,a.Wm)(x,{clickable:"",onClick:_[3]||(_[3]=e=>v())},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Uk)("CBUS errors")])),_:1})])),_:1}),(0,a.Wm)(x,{clickable:"",onClick:_[4]||(_[4]=e=>V())},{default:(0,a.w5)((()=>[(0,a.Wm)(N,null,{default:(0,a.w5)((()=>[(0,a.Uk)("System")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(k,{style:{"min-height":"0"}},{default:(0,a.w5)((()=>[qi])),_:1})])),_:1}),(0,a.Wm)(T,{class:"col"},{default:(0,a.w5)((()=>[(0,a._)("div",hi,(0,n.zw)((0,i.SU)(l).state.layout.layoutDetails.title),1)])),_:1}),(0,a.Wm)(T,{class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(I),ki])),_:1})])),_:1}),(0,a.Wm)(D,{modelValue:t.value,"onUpdate:modelValue":_[5]||(_[5]=e=>t.value=e),"show-if-above":"",side:"left",width:120,bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(B,null,{default:(0,a.w5)((()=>[(0,a.Wm)(U,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{default:(0,a.w5)((()=>[Ti])),_:1}),(0,a.Wm)(S,{bordered:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(l).state.nodeTraffic,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(x,{key:e,clickable:"",onClick:l=>g(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"q-pa-none q-ma-xs"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.direction+""+e.json.mnemonic),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[H]]))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(Z,{class:"main-page no-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,i.SU)(l).state.debug?((0,a.wg)(),(0,a.iD)("div",Ii,[(0,a.Uk)(" display_component : "+(0,n.zw)((0,i.SU)(l).state.display_component),1),Wi,(0,a.Uk)(" events_component : "+(0,n.zw)((0,i.SU)(l).state.events_component),1),Ui,(0,a.Uk)(" services_component : "+(0,n.zw)((0,i.SU)(l).state.services_component),1),Ci,(0,a.Uk)(" selected_node : "+(0,n.zw)((0,i.SU)(l).state.selected_node),1),Bi,(0,a.Uk)(" selected_events_index : "+(0,n.zw)((0,i.SU)(l).state.selected_event_index),1),Di,(0,a.Uk)(" selected_service_index : "+(0,n.zw)((0,i.SU)(l).state.selected_service_index),1),Ei])):(0,a.kq)("",!0),(0,a.Wm)((0,i.SU)(Ga))])),_:1})])),_:1})])),_:1}),(0,a.Wm)((0,i.SU)(_n),{modelValue:o.value,"onUpdate:modelValue":_[6]||(_[6]=e=>o.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,i.SU)(Tn),{modelValue:s.value,"onUpdate:modelValue":_[7]||(_[7]=e=>s.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,i.SU)(jn),{modelValue:d.value,"onUpdate:modelValue":_[8]||(_[8]=e=>d.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,i.SU)(Xn),{modelValue:r.value,"onUpdate:modelValue":_[9]||(_[9]=e=>r.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,i.SU)(si),{modelValue:u.value,"onUpdate:modelValue":_[10]||(_[10]=e=>u.value=e),busMessage:c.value},null,8,["modelValue","busMessage"]),(0,a.Wm)((0,i.SU)(vi),{modelValue:p.value,"onUpdate:modelValue":_[11]||(_[11]=e=>p.value=e),previousNodeNumber:b.value},null,8,["modelValue","previousNodeNumber"]),(0,a.Wm)((0,i.SU)(xi),{modelValue:m.value,"onUpdate:modelValue":_[12]||(_[12]=e=>m.value=e)},null,8,["modelValue"])],64)}}};var Hi=t(4267),zi=t(3812),ji=t(9570),Oi=t(6335),Fi=t(7011),Mi=t(3414),Pi=t(2035),Ai=t(3747),Li=t(2901),Yi=t(2350),$i=t(2652),Ji=t(4379),Ri=t(6489);const Gi=(0,je.Z)(Qi,[["__scopeId","data-v-b84939f4"]]),Ki=Gi;S()(Qi,"components",{QLayout:Hi.Z,QHeader:zi.Z,QToolbar:ji.Z,QBtn:w.Z,QMenu:Oi.Z,QList:Fi.Z,QItem:Mi.Z,QItemSection:Pi.Z,QToolbarTitle:Ai.Z,QSpace:fn.Z,QDrawer:Li.Z,QCard:g.Z,QBanner:f.Z,QItemLabel:Yi.Z,QPageContainer:$i.Z,QPage:Ji.Z}),S()(Qi,"directives",{Ripple:Ri.Z})}}]);